<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Ragty"><meta name="copyright" content="Ragty"><title>When the world sleep, I dream. | Ragty の Blog</title><link rel="shortcut icon" href="/blog/melody-favicon.ico"><link rel="stylesheet" href="/blog/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="https://secure.gravatar.com/avatar/dcc38a5a0d37cb7348d4f72d8f6a2de0"></div><div class="author-info__name text-center">Ragty</div><div class="author-info__description text-center"></div><div class="follow-button"><a href="https://github.com/huoji555" target="_blank" rel="noopener">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/blog/archives"><span class="pull-left">文章</span><span class="pull-right">83</span></a><a class="author-info-articles__tags article-meta" href="/blog/tags"><span class="pull-left">标签</span><span class="pull-right">75</span></a><a class="author-info-articles__categories article-meta" href="/blog/categories"><span class="pull-left">分类</span><span class="pull-right">38</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">友情链接-Links</div><a class="author-info-links__name text-center" href="https://blog.csdn.net/huoji555" target="_blank" rel="noopener">MY-CSDN</a></div></div></div><nav id="nav" style="background-image: url(https://blog-1251750343.cos.ap-beijing.myqcloud.com/blog/blog-bg.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/blog/">Ragty の Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/blog">Home</a><a class="site-page" href="/blog/archives">Archives</a><a class="site-page" href="/blog/categories">Categories</a><a class="site-page" href="/blog/tags">Tags</a><a class="site-page" href="/blog/about">About</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="site-info"><div id="site-title">Ragty の Blog</div><div id="site-sub-title">When the world sleep, I dream.</div><div id="site-social-icons"><a class="social-icon" href="https://github.com/huoji555" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-github fab"></i></a><a class="social-icon" href="https://blog.csdn.net/huoji555" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-rss fas"></i></a></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/blog/2019/03/08/Java%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2%E4%B8%BAPDF%E5%B9%B6%E5%90%88%E6%88%90%E5%90%8C%E4%B8%80PDF/">Java图片转换为PDF并合成同一PDF</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-03-08</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/PDF/">PDF</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/pdf%E8%BD%AC%E6%8D%A2-Java%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2pdf-pdf%E5%90%88%E5%B9%B6/">pdf转换 Java图片转换pdf pdf合并</a></span><div class="content"><a id="more"></a>


<h3 id="1-需求"><a href="#1-需求" class="headerlink" title="1.需求"></a>1.需求</h3><p>将同一文件夹下的图片和PDF,转换合并为同一个PDF，并要求转换中的图片按格式排版好 <br><br></p>
<h3 id="2-思路"><a href="#2-思路" class="headerlink" title="2.思路"></a>2.思路</h3><ol>
<li>调整图片，检测图片大小及方向，调整至A4大小(842×595)， 寻找最佳缩放比，等比例缩放图片，为避免多次IO操作，返回BufferedImage</li>
<li>将图片转换为PDF</li>
<li>将文件夹下的PDF按顺序合并，得到最终的final.pdf<br><br></li>
</ol>
<h3 id="3-所需工具类"><a href="#3-所需工具类" class="headerlink" title="3.所需工具类"></a>3.所需工具类</h3><p>前两个为处理PDF的工具类，最后一个为图片处理类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/com.itextpdf/itextpdf --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.itextpdf&lt;<span class="regexp">/groupId&gt;</span></span><br><span class="line"><span class="regexp">    &lt;artifactId&gt;itextpdf&lt;/</span>artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">5.5</span><span class="number">.13</span>&lt;<span class="regexp">/version&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>dependency&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/org.apache.pdfbox/pdfbox --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.pdfbox&lt;<span class="regexp">/groupId&gt;</span></span><br><span class="line"><span class="regexp">    &lt;artifactId&gt;pdfbox&lt;/</span>artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.7</span><span class="number">.1</span>&lt;<span class="regexp">/version&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>dependency&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/net.coobird/thumbnailator --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;net.coobird&lt;<span class="regexp">/groupId&gt;</span></span><br><span class="line"><span class="regexp">    &lt;artifactId&gt;thumbnailator&lt;/</span>artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">0.4</span><span class="number">.8</span>&lt;<span class="regexp">/version&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>dependency&gt;</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h3 id="4-图片处理类"><a href="#4-图片处理类" class="headerlink" title="4.图片处理类"></a>4.图片处理类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> JavaPdf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> net.coobird.thumbnailator.Thumbnails;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.ConvolveOp;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.Kernel;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImgUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Author</span> Ragty</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Description</span> 调整图片角度并生成合适大小的图片</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@Date</span> 16:37 2019/3/7</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    **/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BufferedImage <span class="title">rotateImage</span><span class="params">(String imgFile)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        BufferedImage bufferedImage = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(imgFile != <span class="string">""</span> || imgFile != <span class="keyword">null</span>)&#123;</span><br><span class="line">                File _img_file_ = <span class="keyword">new</span> File(imgFile);</span><br><span class="line">                <span class="keyword">if</span>(_img_file_.exists())&#123;</span><br><span class="line">                    Integer angel = <span class="number">270</span>;</span><br><span class="line">                    BufferedImage src = ImageIO.read(_img_file_);</span><br><span class="line"></span><br><span class="line">                    BigDecimal height = BigDecimal.valueOf(src.getHeight());</span><br><span class="line">                    BigDecimal width = BigDecimal.valueOf(src.getWidth());</span><br><span class="line">                    BigDecimal bd = height.divide(width,<span class="number">4</span>,BigDecimal.ROUND_CEILING);</span><br><span class="line">                    BigDecimal theValue = BigDecimal.valueOf(<span class="number">1.1700</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (bd.compareTo(theValue) == -<span class="number">1</span> ) &#123;</span><br><span class="line">                        System.out.println(<span class="string">"转换中 ..."</span>);</span><br><span class="line">                        bufferedImage = Thumbnails.of(src).rotate(angel).scale(<span class="number">1</span>).asBufferedImage();</span><br><span class="line">                        bufferedImage = calcScale(bufferedImage);</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        bufferedImage = calcScale(src);</span><br><span class="line">                        System.out.println(<span class="string">"宽高比合适,跳过 ..."</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//bufferedImage = getSharperPicture(bufferedImage);</span></span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> bufferedImage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> Ragty</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description</span>  计算最佳放缩比</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> 9:19 2019/3/11</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BufferedImage <span class="title">calcScale</span><span class="params">(BufferedImage bufferedImage)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line"></span><br><span class="line">        BigDecimal standaraHeight = BigDecimal.valueOf(<span class="number">842</span>);</span><br><span class="line">        BigDecimal standaraWeight = BigDecimal.valueOf(<span class="number">595</span>);</span><br><span class="line">        BigDecimal height = BigDecimal.valueOf(bufferedImage.getHeight());</span><br><span class="line">        BigDecimal width = BigDecimal.valueOf(bufferedImage.getWidth());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (height.compareTo(standaraHeight) == <span class="number">1</span> || width.compareTo(standaraWeight) == <span class="number">1</span>) &#123; <span class="comment">//不符合标准，缩放</span></span><br><span class="line">            BigDecimal scaleHeight = standaraHeight.divide(height,<span class="number">4</span>,BigDecimal.ROUND_CEILING);</span><br><span class="line">            BigDecimal scaleWidth = standaraWeight.divide(width,<span class="number">4</span>,BigDecimal.ROUND_CEILING);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (scaleHeight.compareTo(BigDecimal.valueOf(<span class="number">1</span>)) == -<span class="number">1</span>) &#123;</span><br><span class="line">                bufferedImage = Thumbnails.of(bufferedImage).scale(scaleHeight.floatValue()).outputQuality(<span class="number">1.0f</span>).asBufferedImage();</span><br><span class="line">                calcScale(bufferedImage);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (scaleWidth.compareTo(BigDecimal.valueOf(<span class="number">1</span>)) == -<span class="number">1</span>) &#123;</span><br><span class="line">                bufferedImage = Thumbnails.of(bufferedImage).scale(scaleWidth.floatValue()).outputQuality(<span class="number">1.0f</span>).asBufferedImage();</span><br><span class="line">                calcScale(bufferedImage);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>  bufferedImage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h3 id="5-PDF处理类"><a href="#5-PDF处理类" class="headerlink" title="5.PDF处理类"></a>5.PDF处理类</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line">package JavaPdf;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.*;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.PdfPCell;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.PdfPTable;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.PdfWriter;</span><br><span class="line"><span class="keyword">import</span> org.apache.pdfbox.util.PDFMergerUtility;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> java.awt.color.ColorSpace;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.ColorConvertOp;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">PdfUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author <span class="variable">Ragty</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description </span>将图片转换为PDF</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date </span>15:27 2019/3/4</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="built_in">String</span> Img2PDF(<span class="built_in">String</span> imagePath,BufferedImage img,<span class="built_in">String</span> descfolder) throws Exception&#123;</span><br><span class="line">        <span class="built_in">String</span> pdfPath = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//图片操作</span></span><br><span class="line">            Image image = <span class="literal">null</span>;</span><br><span class="line">            File file = <span class="keyword">new</span> File(descfolder);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!file.exists())&#123;</span><br><span class="line">                file.mkdirs();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            pdfPath = descfolder +<span class="string">"/"</span>+System.currentTimeMillis()+<span class="string">".pdf"</span>;</span><br><span class="line">            <span class="built_in">String</span> type = imagePath.substring(imagePath.lastIndexOf(<span class="string">"."</span>)+<span class="number">1</span>);</span><br><span class="line">            Document doc = <span class="keyword">new</span> Document(<span class="literal">null</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//更换图片图层</span></span><br><span class="line">            BufferedImage bufferedImage = <span class="keyword">new</span> BufferedImage(img.getWidth(), img.getHeight(),BufferedImage.TYPE_3BYTE_BGR);</span><br><span class="line">            bufferedImage.getGraphics().drawImage(img, <span class="number">0</span>,<span class="number">0</span>, img.getWidth(), img.getHeight(), <span class="literal">null</span>);</span><br><span class="line">            bufferedImage=<span class="keyword">new</span> ColorConvertOp(ColorSpace.getInstance(ColorSpace.CS_GRAY),<span class="literal">null</span>).filter (bufferedImage,<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//图片流处理</span></span><br><span class="line">            doc.setPageSize(<span class="keyword">new</span> Rectangle(bufferedImage.getWidth(), bufferedImage.getHeight()));</span><br><span class="line">            System.out.println(bufferedImage.getWidth()+<span class="string">"()()()()()"</span>+bufferedImage.getHeight());</span><br><span class="line">            ByteArrayOutputStream out = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">            boolean flag = ImageIO.write(bufferedImage, type, out);</span><br><span class="line">            byte[] b = out.toByteArray();</span><br><span class="line">            image = Image.getInstance(b);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//写入PDF</span></span><br><span class="line">            System.out.println(<span class="string">"写入PDf:"</span> + pdfPath);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(pdfPath);</span><br><span class="line">            PdfWriter.getInstance(doc, fos);</span><br><span class="line">            doc.open();</span><br><span class="line">            doc.add(image);</span><br><span class="line">            doc.close();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (BadElementException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (DocumentException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pdfPath;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author <span class="variable">Ragty</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description </span>获取文件夹下的PDF</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date </span>17:33 2019/3/7</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    private <span class="keyword">static</span> <span class="built_in">String</span>[] getFiles(<span class="built_in">String</span> folder) throws IOException &#123;</span><br><span class="line">        File _folder = <span class="keyword">new</span> File(folder);</span><br><span class="line">        <span class="built_in">String</span>[] filesInFolder;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (_folder.isDirectory()) &#123;</span><br><span class="line">            filesInFolder = _folder.list();</span><br><span class="line">            <span class="keyword">return</span> filesInFolder;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">"Path is not a directory"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author <span class="variable">Ragty</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Description </span>合成PDF</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date </span>17:25 2019/3/7</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> mergePDF(<span class="built_in">String</span>[] files,<span class="built_in">String</span> desfolder,<span class="built_in">String</span> mergeFileName ) throws Exception&#123;</span><br><span class="line"></span><br><span class="line">        PDFMergerUtility mergePdf = <span class="keyword">new</span> PDFMergerUtility();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">String</span> file :files) &#123;</span><br><span class="line">            <span class="keyword">if</span> (file.toLowerCase().endsWith(<span class="string">"pdf"</span>))</span><br><span class="line">                mergePdf.addSource(file);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        mergePdf.setDestinationFileName(desfolder+<span class="string">"/"</span>+mergeFileName);</span><br><span class="line">        mergePdf.mergeDocuments();</span><br><span class="line">        System.out.println(<span class="string">"merge over"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) throws Exception&#123;</span><br><span class="line"></span><br><span class="line">        ImgUtil imageUtil = <span class="keyword">new</span> ImgUtil();</span><br><span class="line">        <span class="built_in">String</span>[] files = <span class="keyword">new</span> <span class="built_in">String</span>[<span class="number">11</span>];</span><br><span class="line">        files[<span class="number">0</span>] = <span class="string">"D:/test2/2019021910311346.jpg"</span>;</span><br><span class="line">        files[<span class="number">1</span>] = <span class="string">"D:/test2/2019021816284226.jpg"</span>;</span><br><span class="line">        files[<span class="number">2</span>] = <span class="string">"D:/test2/2019021816284244.png"</span>;</span><br><span class="line">        files[<span class="number">3</span>] = <span class="string">"D:/test2/2019021816284299.jpg"</span>;</span><br><span class="line">        files[<span class="number">4</span>] = <span class="string">"D:/test2/2019021816284346.png"</span>;</span><br><span class="line">        files[<span class="number">5</span>] = <span class="string">"D:/test2/2019021816285533.png"</span>;</span><br><span class="line">        files[<span class="number">6</span>] = <span class="string">"D:/test2/2019021816285546.jpg"</span>;</span><br><span class="line">        files[<span class="number">7</span>] = <span class="string">"D:/test2/2019021816285553.jpg"</span>;</span><br><span class="line">        files[<span class="number">8</span>] = <span class="string">"D:/test2/2019021816285640.png"</span>;</span><br><span class="line">        files[<span class="number">9</span>] = <span class="string">"D:/test2/2019021910305527.pdf"</span>;</span><br><span class="line">        files[<span class="number">10</span>] = <span class="string">"D:/test2/201902191030445.pdf"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">String</span> folder = <span class="string">"D:/test2"</span>;</span><br><span class="line">        <span class="built_in">String</span> mergeFileName = <span class="string">"final.pdf"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (int i=<span class="number">0</span>;i&lt;files.length;i++) &#123;</span><br><span class="line">            <span class="built_in">String</span> file = files[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (file.toLowerCase().endsWith(<span class="string">".png"</span>)</span><br><span class="line">                    || file.toLowerCase().endsWith(<span class="string">".jpg"</span>)</span><br><span class="line">                    || file.toLowerCase().endsWith(<span class="string">".gif"</span>)</span><br><span class="line">                    || file.toLowerCase().endsWith(<span class="string">".jpeg"</span>)</span><br><span class="line">                    || file.toLowerCase().endsWith(<span class="string">".gif"</span>)) &#123;</span><br><span class="line"></span><br><span class="line">                BufferedImage bi = imageUtil.rotateImage(file);</span><br><span class="line">                <span class="keyword">if</span> (bi==<span class="literal">null</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">String</span> pdffile = Img2PDF(file,bi,folder);</span><br><span class="line">                files[i] = pdffile;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        mergePDF(files,folder,mergeFileName);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h3 id="7-测试"><a href="#7-测试" class="headerlink" title="7.测试"></a>7.测试</h3><p>处理前<img src="https://img-blog.csdnimg.cn/20190308094925582.png" alt="在这里插入图片描述"><br>处理后的图片<br><img src="https://img-blog.csdnimg.cn/20190308100117975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>合并后的PDF<br><img src="https://img-blog.csdnimg.cn/20190308100206758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2019/02/14/Java%2023%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">Java 23种设计模式</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-02-14</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式 Java设计模式</a></span><div class="content"><a id="more"></a>

<h1 id="23种设计模式"><a href="#23种设计模式" class="headerlink" title="23种设计模式"></a>23种设计模式</h1><h3 id="1-单例模式"><a href="#1-单例模式" class="headerlink" title="1.单例模式"></a>1.单例模式</h3><ul>
<li>饿汉模式(线程不安全，速度快，浪费资源多)</li>
<li>懒汉模式(线程不安全,第一次加载较慢)</li>
<li>双重检测(加锁，线程安全，第一次加载较慢)</li>
<li>静态方法</li>
</ul>
<h3 id="2-工厂模式"><a href="#2-工厂模式" class="headerlink" title="2.工厂模式"></a>2.工厂模式</h3><blockquote>
<p>定义一个用于创建爱你对象的接口，让子类决定实例化哪一个类，是一个类的实例化延迟到其子类</p>
</blockquote>
<p><img src="http://www.runoob.com/wp-content/uploads/2018/07/1530601917-1999-DP-Factory.png" alt=""></p>
<h3 id="3-抽象工厂模式"><a href="#3-抽象工厂模式" class="headerlink" title="3.抽象工厂模式"></a>3.抽象工厂模式</h3><blockquote>
<p>提供一个创建乙烯类相关或者相互依赖对象的接口，而无需指定他们具体的类</p>
</blockquote>
<p><img src="http://www.runoob.com/wp-content/uploads/2018/07/1530601916-7298-DP-AbstractFactory.png" alt=""></p>
<p><img src="http://www.runoob.com/wp-content/uploads/2018/07/1530601980-8080-P-AbstractFactory-AddFactory.png" alt=""></p>
<p><img src="http://www.runoob.com/wp-content/uploads/2018/07/1530601917-7462-P-AbstractFactory-AddProduct.png" alt=""></p>
<h3 id="4-建造者模式"><a href="#4-建造者模式" class="headerlink" title="4.建造者模式"></a>4.建造者模式</h3><blockquote>
<p>使用多个简单的对象一步一步构建成一个复杂的对象。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式</p>
</blockquote>
<blockquote>
<p>解决的问题：</p>
<ol>
<li>用户只需要给出指定复杂对象的类型和内容；</li>
<li>建造者模式负责按顺序创建复杂对象（把内部的建造过程和细节隐藏起来)</li>
</ol>
</blockquote>
<ul>
<li><p><strong>Product（产品角色）：</strong> 一个具体的产品对象 (指出它的部件)</p>
</li>
<li><p><strong>Builder（抽象建造者）：</strong> 创建一个Product对象的各个部件指定的抽象接口  (<strong>定义抽象动作，具体实现未知)</strong></p>
</li>
<li><p><strong>ConcreteBuilder（具体建造者）：</strong> 实现抽象接口，构建和装配各个部件  (<strong>定义具体做什么</strong>)</p>
</li>
<li><p><strong>Director（指挥者）：</strong> 构建一个使用Builder接口的对象。它主要是用于创建一个复杂的对象。它主要有两个作用，</p>
<p>一：隔离了客户与对象的生产过程</p>
<p>二：负责控制产品对象的生产过程。</p>
</li>
</ul>
<blockquote>
<p>模式讲解： </p>
<ol>
<li>指挥者（Director）直接和客户（Client）进行需求沟通； </li>
<li>沟通后指挥者将客户创建产品的需求划分为各个部件的建造请求（Builder）； </li>
<li>将各个部件的建造请求委派到具体的建造者（ConcreteBuilder）； </li>
<li>各个具体建造者负责进行产品部件的构建； </li>
<li>最终构建成具体产品（Product）。</li>
</ol>
</blockquote>
<blockquote>
<ol>
<li>电脑城老板（Diretor）和小成（Client）进行需求沟通</li>
<li>了解需求后，电脑城老板将小成需要的主机划分为各个部件（Builder）的建造请求（CPU、主板blabla）</li>
<li>指挥装机人员（ConcreteBuilder）去构建组件；</li>
<li>组装成电脑(Product)</li>
</ol>
</blockquote>
<h3 id="5-原型模式"><a href="#5-原型模式" class="headerlink" title="5.原型模式"></a>5.原型模式</h3><blockquote>
<p>用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象</p>
</blockquote>
<p> <strong>浅拷贝：</strong>使用一个已知实例对新创建实例的成员变量逐个赋值（传递引用，不能复制实例）</p>
<p><strong>深拷贝：</strong>当一个类的拷贝构造方法，不仅要复制对象的所有非引用成员变量，还要引用类型的成员变量创建新的实例，并且初始化为形式参数的实例值（对象内部的引用均复制，它是创建一个新的实例，并且复制实例）</p>
<p><img src="https://images0.cnblogs.com/blog/381060/201309/10205053-c368741694b842aca314a0690ab0d00d.jpg" alt=""></p>
<p><strong>主要解决：</strong>在运行期建立和删除原型。</p>
<p><strong>何时使用：</strong> </p>
<ol>
<li>如果创建新对象成本较大，我们可以利用已有的对象进行复制来获得。</li>
<li>如果系统要保存对象的状态，而对象的状态变化很小，或者对象本身占内存不大的时候，也可以使用原型模式配合备忘录模式来应用。相反，如果对象的状态变化很大，或者对象占用的内存很大，那么采用状态模式会比原型模式更好。 </li>
<li>需要避免使用分层次的工厂类来创建分层次的对象，并且类的实例对象只有一个或很少的几个组合状态，通过复制原型对象得到新实例可能比使用构造函数创建一个新实例更加方便</li>
</ol>
<h6 id="模式构成"><a href="#模式构成" class="headerlink" title="模式构成"></a>模式构成</h6><ul>
<li>Prototype：抽象原型类。声明克隆自身的接口。 </li>
<li>ConcretePrototype：具体原型类。实现克隆的具体操作。</li>
<li>Client：客户类。让一个原型克隆自身，从而获得一个新的对象。</li>
</ul>
<h6 id="模式总结"><a href="#模式总结" class="headerlink" title="模式总结"></a>模式总结</h6><ol>
<li>原型模式向客户隐藏了创建对象的复杂性。客户只需要知道要创建对象的类型，然后通过请求就可以获得和该对象一模一样的新对象，无须知道具体的创建过程。</li>
<li>克隆分为浅克隆和深克隆两种。</li>
</ol>
<h3 id="6-适配者模式"><a href="#6-适配者模式" class="headerlink" title="6.适配者模式"></a>6.适配者模式</h3><blockquote>
<p>将一个类的接口转换成客户希望的另一个接口。适配器模式让那些接口不兼容的类可以一起工作（直白点就是转接器）</p>
</blockquote>
<h6 id="模式构成-1"><a href="#模式构成-1" class="headerlink" title="模式构成"></a>模式构成</h6><ol>
<li><strong>Target(目标抽象类)：</strong>目标抽象类定义客户所需的接口，可以是一个抽象类或接口，也可以是具体类。</li>
<li><strong>Adapter(适配器类)：</strong>它可以调用另一个接口，作为一个转换器，对Adaptee和Target进行适配</li>
<li><strong>Adaptee(适配者类)：</strong>适配者即被适配的角色，它定义了一个已经存在的接口，这个接口需要适配，适配者类包好了客户希望的业务方法</li>
</ol>
<h3 id="7-桥接模式"><a href="#7-桥接模式" class="headerlink" title="7.桥接模式"></a>7.桥接模式</h3><blockquote>
<p>桥接（Bridge）是用于把抽象化与实现化解耦，使得二者可以独立变化</p>
</blockquote>
<h6 id="模式构成-2"><a href="#模式构成-2" class="headerlink" title="模式构成"></a>模式构成</h6><ol>
<li><strong>实现化（Implementor）角色：</strong>定义实现化角色的接口，供扩展抽象化角色调用。</li>
<li><strong>Abstraction(抽象化对象)：</strong>定义抽象类，并包含一个对实现化对象的引用</li>
<li><strong>扩展抽象化（Refined    Abstraction）角色：</strong>是抽象化角色的子类，实现父类中的业务方法，并通过组合关系调用实现化角色中的业务方法。</li>
<li><strong>具体实现化（Concrete Implementor）角色：</strong>给出实现化角色接口的具体实现。</li>
</ol>
<p><img src="http://c.biancheng.net/uploads/allimg/181115/3-1Q11512532X54.gif" alt=""></p>
<h3 id="8-组合模式"><a href="#8-组合模式" class="headerlink" title="8.组合模式"></a>8.组合模式</h3><blockquote>
<p>又叫部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式依据树形结构来组合对象，用来表示部分以及整体层次</p>
</blockquote>
<h6 id="模式构成-3"><a href="#模式构成-3" class="headerlink" title="模式构成"></a>模式构成</h6><ol>
<li><strong>Component（抽象构件）：</strong>它可以是接口或抽象类，为叶子构件和容器构件对象声明接口，在该角色中可以包含所有子类共有行为的声明和实现。在抽象构件中定义了访问及管理它的子构件的方法，如增加子构件、删除子构件、获取子构件等。</li>
<li><strong>Leaf（叶子构件）：</strong>它在组合结构中表示叶子节点对象，叶子节点没有子节点，它实现了在抽象构件中定义的行为。</li>
<li><strong>Composite（容器构件）：</strong>表示容器节点对象，容器节点包含子节点，其子节点可以是叶子节点，也可以是容器节点，它提供一个集合用于存储子节点，实现了在抽象构件中定义的行为，包括那些访问及管理子构件的方法，在其业务方法中可以递归调用其子节点的业务方法。</li>
</ol>
<h3 id="9-装饰器模式"><a href="#9-装饰器模式" class="headerlink" title="9.装饰器模式"></a>9.装饰器模式</h3><blockquote>
<p>动态地给一个对象添加一些额外的职责。就增加功能来说，装饰器模式相比生成子类更为灵活(继承关系的替代方案)</p>
</blockquote>
<ul>
<li><strong>主要解决：</strong>一般的，我们为了扩展一个类经常使用继承方式实现，由于继承为类引入静态特征，并且随着扩展功能的增多，子类会很膨胀。</li>
<li><strong>何时使用：</strong>在不想增加很多子类的情况下扩展类。</li>
<li><strong>如何解决：</strong>将具体功能职责划分，同时继承装饰者模式。</li>
</ul>
<h6 id="模式构成-4"><a href="#模式构成-4" class="headerlink" title="模式构成"></a>模式构成</h6><ul>
<li>抽象构件角色 (给出一个抽象接口，一规范接收附加责任的对象)</li>
<li>具体构件角色 (定义一个将要接受附加责任的类)</li>
<li>装饰角色 (持有一个构件对象的实例，并定义一个与抽象构件接               口一致的接口)</li>
<li>具体装饰角色 (负责给构件对象贴上附加的责任)</li>
</ul>
<h3 id="10-外观模式"><a href="#10-外观模式" class="headerlink" title="10.外观模式"></a>10.外观模式</h3><blockquote>
<p>隐藏系统的复杂性，并向客户端提供了一个客户端可以访问系统的接口</p>
</blockquote>
<ul>
<li><strong>意图：</strong>为子系统中的一组接口提供一个一致的界面，外观模式定义了一个高层接口，这个接口使得这一子系统更加容易使用。</li>
<li><strong>主要解决：</strong>降低访问复杂系统的内部子系统时的复杂度，简化客户端与之的接口。</li>
<li><strong>何时使用：</strong> 1、客户端不需要知道系统内部的复杂联系，整个系统只需提供一个”接待员”即可。 2、定义系统的入口</li>
</ul>
<h6 id="模式构成-5"><a href="#模式构成-5" class="headerlink" title="模式构成"></a>模式构成</h6><ul>
<li>接口</li>
<li>接口实现类(实现不同的方法)</li>
<li>外观类 xxMarker (使用实体类来代表用户对这些类的调用)</li>
</ul>
<h3 id="11-代理模式"><a href="#11-代理模式" class="headerlink" title="11.代理模式"></a>11.代理模式</h3><blockquote>
<p>在代理模式（Proxy Pattern）中，一个类代表另一个类的功能。    </p>
</blockquote>
<h6 id="模式总结-1"><a href="#模式总结-1" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><p><strong>意图：</strong>为其他对象提供一种代理以控制对这个对象的访问。</p>
</li>
<li><p><strong>主要解决：</strong>在直接访问对象时带来的问题，比如说：要访问的对象在远程的机器上。在面向对象系统中，有些对象由于某些原因（比如对象创建开销很大，或者某些操作需要安全控制，或者需要进程外的访问），直接访问会给使用者或者系统结构带来很多麻烦，我们可以在访问此对象时加上一个对此对象的访问层。</p>
</li>
<li><p><strong>何时使用：</strong>想在访问一个类时做一些控制。</p>
</li>
<li><p><strong>如何解决：</strong>增加中间层。</p>
</li>
<li><p><strong>应用实例：</strong> 1、Windows 里面的快捷方式。 2、猪八戒去找高翠兰结果是孙悟空变的，可以这样理解：把高翠兰的外貌抽象出来，高翠兰本人和孙悟空都实现了这个接口，猪八戒访问高翠兰的时候看不出来这个是孙悟空，所以说孙悟空是高翠兰代理类。 3、买火车票不一定在火车站买，也可以去代售点。 4、一张支票或银行存单是账户中资金的代理。支票在市场交易中用来代替现金，并提供对签发人账号上资金的控制。 5、spring aop。</p>
</li>
</ul>
<h6 id="模式构成-6"><a href="#模式构成-6" class="headerlink" title="模式构成"></a>模式构成</h6><ul>
<li>接口类</li>
<li>接口实现</li>
<li>接口代理类(直接调用接口代理类，实现对象操作)</li>
</ul>
<h3 id="12-责任链模式"><a href="#12-责任链模式" class="headerlink" title="12.责任链模式"></a>12.责任链模式</h3><blockquote>
<p>为请求创建了一个接收者对象的链，每个接收者都包含对另一个接收者的引用，当某个接受者不能处理该请求时，会将该请求转给下一个接受者处</p>
</blockquote>
<h6 id="模式总结-2"><a href="#模式总结-2" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><p><strong>意图：</strong>避免请求发送者与接收者耦合在一起，让多个对象都有可能接收请求，将这些对象连接成一条链，并且沿着这条链传递请求，直到有对象处理它为止。</p>
</li>
<li><p><strong>主要解决：</strong>职责链上的处理者负责处理请求，客户只需要将请求发送到职责链上即可，无须关心请求的处理细节和请求的传递，所以职责链将请求的发送者和请求的处理者解耦了。</p>
</li>
<li><p><strong>何时使用：</strong>在处理消息的时候以过滤很多道。</p>
</li>
<li><p><strong>如何解决：</strong>拦截的类都实现统一接口。</p>
</li>
<li><p><strong>关键代码：</strong>Handler 里面聚合它自己，在 HandlerRequest 里判断是否合适，如果没达到条件则向下传递，向谁传递之前 set 进去。</p>
</li>
</ul>
<h6 id="模式构成-7"><a href="#模式构成-7" class="headerlink" title="模式构成"></a>模式构成</h6><ul>
<li><strong>请求者</strong>：负责请求的类型</li>
<li><strong>处理者</strong>：负责处理请求</li>
<li><strong>客户端</strong>：负责发出接收请求</li>
</ul>
<h3 id="13-命令模式"><a href="#13-命令模式" class="headerlink" title="13.命令模式"></a>13.命令模式</h3><blockquote>
<p>显而易见，是将命令和实际操作相隔离，解耦合，客户端只发出命令，具体的操作不需要关心，只需要完成任务。举个很简单的例子，用户点菜，然后厨师做菜，根据点菜的口味不同厨师做不同的菜</p>
</blockquote>
<h6 id="模式总结-3"><a href="#模式总结-3" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>将一个请求封装成一个对象，从而使您可以用不同的请求对客户进行参数化。</li>
<li><strong>主要解决：</strong>在软件系统中，行为请求者与行为实现者通常是一种紧耦合的关系，但某些场合，比如需要对行为进行记录、撤销或重做、事务等处理时，这种无法抵御变化的紧耦合的设计就不太合适。</li>
<li><strong>何时使用：</strong>在某些场合，比如要对行为进行”记录、撤销/重做、事务”等处理，这种无法抵御变化的紧耦合是不合适的。在这种情况下，如何将”行为请求者”与”行为实现者”解耦？将一组行为抽象为对象，可以实现二者之间的松耦合。</li>
<li><strong>如何解决：</strong>通过调用者调用接受者执行命令，顺序：调用者→接受者→命令。</li>
</ul>
<h6 id="模式构成-8"><a href="#模式构成-8" class="headerlink" title="模式构成"></a>模式构成</h6><p><strong>Invoker(调用者)</strong>：使用命令对象的入口</p>
<p><strong>Command</strong>：命令</p>
<p><strong>Received(命令接收者)</strong>：正真的命令执行对象</p>
<h3 id="14-解释器模式"><a href="#14-解释器模式" class="headerlink" title="14.解释器模式"></a>14.解释器模式</h3><blockquote>
<p>是一种用得比较少的行为型模式.提供了一种解释语言的语法或表达式的方式. 通过定义一个表达式接口,解释一个特定的上下文</p>
</blockquote>
<h6 id="模式总结-4"><a href="#模式总结-4" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>给定一个语言，定义它的文法表示，并定义一个解释器，这个解释器使用该标识来解释语言中的句子。</li>
<li><strong>主要解决：</strong>对于一些固定文法构建一个解释句子的解释器。</li>
<li><strong>何时使用：</strong>如果一种特定类型的问题发生的频率足够高，那么可能就值得将该问题的各个实例表述为一个简单语言中的句子。这样就可以构建一个解释器，该解释器通过解释这些句子来解决该问题。</li>
<li><strong>如何解决：</strong>构件语法树，定义终结符与非终结符。</li>
</ul>
<h6 id="模式构成-9"><a href="#模式构成-9" class="headerlink" title="模式构成"></a>模式构成</h6><p><strong><em>Expression</em></strong>：接口(创建表达式)</p>
<p><strong>SimpleExpresson</strong>:具体的实现接口(校验表达式，并输出)</p>
<h3 id="15-迭代器模式"><a href="#15-迭代器模式" class="headerlink" title="15.迭代器模式"></a>15.迭代器模式</h3><blockquote>
<p>这种模式用于顺序访问集合对象的元素，不需要知道集合对象的底层表示</p>
</blockquote>
<h6 id="模式总结-5"><a href="#模式总结-5" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>提供一种方法顺序访问一个聚合对象中各个元素, 而又无须暴露该对象的内部表示。</li>
<li><strong>主要解决：</strong>不同的方式来遍历整个整合对象。</li>
<li><strong>何时使用：</strong>遍历一个聚合对象。</li>
<li><strong>如何解决：</strong>把在元素之间游走的责任交给迭代器，而不是聚合对象。</li>
</ul>
<h6 id="模式构成-10"><a href="#模式构成-10" class="headerlink" title="模式构成"></a>模式构成</h6><p><strong>List</strong>: 设计实现list，底层为数组，提供方法</p>
<p><strong>Iterator</strong>: 迭代器，直接操作list,提供访问方法在不暴露内部的情况下</p>
<h3 id="16-中介者模式"><a href="#16-中介者模式" class="headerlink" title="16.中介者模式"></a>16.中介者模式</h3><blockquote>
<p>中介者模式（Mediator Pattern）是用来降低多个对象和类之间的通信复杂性。这种模式提供了一个中介类，该类通常处理不同类之间的通信，并支持松耦合，使代码易于维护</p>
</blockquote>
<h6 id="模式构成-11"><a href="#模式构成-11" class="headerlink" title="模式构成"></a>模式构成</h6><ul>
<li><strong>意图：</strong>用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。</li>
<li><strong>主要解决：</strong>对象与对象之间存在大量的关联关系，这样势必会导致系统的结构变得很复杂，同时若一个对象发生改变，我们也需要跟踪与之相关联的对象，同时做出相应的处理。</li>
<li><strong>何时使用：</strong>多个类相互耦合，形成了网状结构。</li>
<li><strong>如何解决：</strong>将上述网状结构分离为星型结构。</li>
<li><strong>关键代码：</strong>对象 Colleague 之间的通信封装到一个类中单独处理。</li>
</ul>
<h6 id="模式构成-12"><a href="#模式构成-12" class="headerlink" title="模式构成"></a>模式构成</h6><p><strong>ConcreateMeditor(中介者)：</strong>具体中介者通过协调各同事对象实现协作行为，了解并维护它的各个同事</p>
<p><strong>Colleague(同事类):</strong> 规定同事内部的方法</p>
<h3 id="17-备忘录模式"><a href="#17-备忘录模式" class="headerlink" title="17.备忘录模式"></a>17.备忘录模式</h3><blockquote>
<p>备忘录模式（Memento Pattern）保存一个对象的某个状态，以便在适当的时候恢复对象</p>
</blockquote>
<h6 id="模式总结-6"><a href="#模式总结-6" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>在不破坏封装性的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态。</li>
<li><strong>主要解决：</strong>所谓备忘录模式就是在不破坏封装的前提下，捕获一个对象的内部状态，并在该对象之外保存这个状态，这样可以在以后将对象恢复到原先保存的状态。</li>
<li><strong>何时使用：</strong>很多时候我们总是需要记录一个对象的内部状态，这样做的目的就是为了允许用户取消不确定或者错误的操作，能够恢复到他原先的状态，使得他有”后悔药”可吃。</li>
<li><strong>如何解决：</strong>通过一个备忘录类专门存储对象状态。</li>
<li><strong>关键代码：</strong>客户不与备忘录类耦合，与备忘录管理类耦合</li>
</ul>
<h6 id="模式构成-13"><a href="#模式构成-13" class="headerlink" title="模式构成"></a>模式构成</h6><ul>
<li><strong>Originator(原型):</strong>    可设置状态</li>
<li><strong>Caretaker(保存型):</strong>  可做中间保存媒介</li>
<li><strong>Memento(保存实体)</strong>: 可做为实体进行保存</li>
</ul>
<h3 id="18-观察者模式"><a href="#18-观察者模式" class="headerlink" title="18.观察者模式"></a>18.观察者模式</h3><blockquote>
<p>当对象间存在一对多关系时，则使用观察者模式（Observer Pattern）。比如，当一个对象被修改时，则会自动通知它的依赖对象。观察者模式属于行为型模式。</p>
</blockquote>
<h6 id="模式总结-7"><a href="#模式总结-7" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。</li>
<li><strong>主要解决：</strong>一个对象状态改变给其他对象通知的问题，而且要考虑到易用和低耦合，保证高度的协作。</li>
<li><strong>何时使用：</strong>一个对象（目标对象）的状态发生改变，所有的依赖对象（观察者对象）都将得到通知，进行广播通知。</li>
<li><strong>如何解决：</strong>使用面向对象技术，可以将这种依赖关系弱化。</li>
<li><strong>关键代码：</strong>在抽象类里有一个 ArrayList 存放观察者们。</li>
</ul>
<h6 id="模式结构"><a href="#模式结构" class="headerlink" title="模式结构"></a>模式结构</h6><ul>
<li><strong>观察者</strong>：负责进行</li>
<li><strong>被观察者接口</strong>：定义操作观察者的方法，提供发布消息的方法</li>
</ul>
<h3 id="19-状态模式"><a href="#19-状态模式" class="headerlink" title="19.状态模式"></a>19.状态模式</h3><blockquote>
<p>在状态模式（State Pattern）中，类的行为是基于它的状态改变的。这种类型的设计模式属于行为型模式。</p>
<p>在状态模式中，我们创建表示各种状态的对象和一个行为随着状态对象改变而改变的 context 对象</p>
</blockquote>
<h6 id="模式总结-8"><a href="#模式总结-8" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>允许对象在内部状态发生改变时改变它的行为，对象看起来好像修改了它的类。</li>
<li><strong>主要解决：</strong>对象的行为依赖于它的状态（属性），并且可以根据它的状态改变而改变它的相关行为。</li>
<li><strong>何时使用：</strong>代码中包含大量与对象状态有关的条件语句。</li>
<li><strong>如何解决：</strong>将各种具体的状态类抽象出来。</li>
<li><strong>关键代码：</strong>通常命令模式的接口中只有一个方法。而状态模式的接口中有一个或者多个方法。而且，状态模式的实现类的方法，一般返回值，或者是改变实例变量的值。也就是说，状态模式一般和对象的状态有关。实现类的方法有不同的功能，覆盖接口中的方法。状态模式和命令模式一样，也可以用于消除 if…else 等条件选择语句。</li>
<li><strong>应用实例：</strong> 1、打篮球的时候运动员可以有正常状态、不正常状态和超常状态。 2、曾侯乙编钟中，’钟是抽象接口’,’钟A’等是具体状态，’曾侯乙编钟’是具体环境（Context）。</li>
</ul>
<h6 id="模式结构-1"><a href="#模式结构-1" class="headerlink" title="模式结构"></a>模式结构</h6><ul>
<li><strong>State</strong>: 状态类，定义状态</li>
<li><strong>Context:</strong> 被定义状态类，可根据具体传入的状态改变</li>
</ul>
<h3 id="20-策略模式"><a href="#20-策略模式" class="headerlink" title="20.策略模式"></a>20.策略模式</h3><blockquote>
<p>在策略模式（Strategy Pattern）中，一个类的行为或其算法可以在运行时更改。这种类型的设计模式属于行为型模式。</p>
<p>在策略模式中，我们创建表示各种策略的对象和一个行为随着策略对象改变而改变的 context 对象。策略对象改变 context 对象的执行算法。</p>
</blockquote>
<h6 id="模式总结-9"><a href="#模式总结-9" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>定义一系列的算法,把它们一个个封装起来, 并且使它们可相互替换。</li>
<li><strong>主要解决：</strong>在有多种算法相似的情况下，使用 if…else 所带来的复杂和难以维护。</li>
<li><strong>何时使用：</strong>一个系统有许多许多类，而区分它们的只是他们直接的行为。</li>
<li><strong>如何解决：</strong>将这些算法封装成一个一个的类，任意地替换。</li>
<li><strong>关键代码：</strong>实现同一个接口。</li>
</ul>
<h6 id="模式结构-2"><a href="#模式结构-2" class="headerlink" title="模式结构"></a>模式结构</h6><ul>
<li><strong>Straegy</strong>：确定策略接口</li>
<li><strong>具体策略接口:</strong> 具体的策略</li>
<li><strong>Context:</strong> 使用了某种策略的类</li>
</ul>
<h3 id="21-模板模式"><a href="#21-模板模式" class="headerlink" title="21.模板模式"></a>21.模板模式</h3><blockquote>
<p>在模板模式（Template Pattern）中，一个抽象类公开定义了执行它的方法的方式/模板。它的子类可以按需要重写方法实现，但调用将以抽象类中定义的方式进行。这种类型的设计模式属于行为型模式。</p>
</blockquote>
<h6 id="模式总结-10"><a href="#模式总结-10" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。</li>
<li><strong>主要解决：</strong>一些方法通用，却在每一个子类都重新写了这一方法。</li>
<li><strong>何时使用：</strong>有一些通用的方法。</li>
<li><strong>如何解决：</strong>将这些通用算法抽象出来。</li>
<li><strong>关键代码：</strong>在抽象类实现，其他步骤在子类实现。</li>
<li><strong>应用实例：</strong> 1、在造房子的时候，地基、走线、水管都一样，只有在建筑的后期才有加壁橱加栅栏等差异。 2、西游记里面菩萨定好的 81 难，这就是一个顶层的逻辑骨架。 3、spring 中对 Hibernate 的支持，将一些已经定好的方法封装起来，比如开启事务、获取 Session、关闭 Session 等，程序员不重复写那些已经规范好的代码，直接丢一个实体就可以保存。</li>
</ul>
<h6 id="模式结构-3"><a href="#模式结构-3" class="headerlink" title="模式结构"></a>模式结构</h6><ul>
<li><strong>模板类：</strong>定义模板方法</li>
<li><strong>模板实现类:</strong>模板实现的具体方法</li>
</ul>
<h3 id="22-访问者模式"><a href="#22-访问者模式" class="headerlink" title="22.访问者模式"></a>22.访问者模式</h3><blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">表示一个作用于其对象结构中的各元素的操作，它使你可以在不改变各元素类的前提下定义作用于这些元素的新操作</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="模式总结-11"><a href="#模式总结-11" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>主要将数据结构与数据操作分离。</li>
<li><strong>主要解决：</strong>稳定的数据结构和易变的操作耦合问题。</li>
<li><strong>何时使用：</strong>需要对一个对象结构中的对象进行很多不同的并且不相关的操作，而需要避免让这些操作”污染”这些对象的类，使用访问者模式将这些封装到类中。</li>
<li><strong>如何解决：</strong>在被访问的类里面加一个对外提供接待访问者的接口。</li>
<li><strong>关键代码：</strong>在数据基础类里面有一个方法接受访问者，将自身引用传入访问者。</li>
<li><strong>应用实例：</strong>您在朋友家做客，您是访问者，朋友接受您的访问，您通过朋友的描述，然后对朋友的描述做出一个判断，这就是访问者模式</li>
</ul>
<h6 id="模式结构-4"><a href="#模式结构-4" class="headerlink" title="模式结构"></a><strong>模式结构</strong></h6><ul>
<li><strong>基础类</strong>：提供基础方法</li>
<li><strong>访问者</strong>：在不改变基础类的同时，传入访问者</li>
</ul>
<h3 id="23-享元模式"><a href="#23-享元模式" class="headerlink" title="23.享元模式"></a>23.享元模式</h3><blockquote>
<p>享元模式（Flyweight Pattern）主要用于减少创建对象的数量，以减少内存占用和提高性能。这种类型的设计模式属于结构型模式，它提供了减少对象数量从而改善应用所需的对象结构的方式</p>
</blockquote>
<h6 id="模式总结-12"><a href="#模式总结-12" class="headerlink" title="模式总结"></a>模式总结</h6><ul>
<li><strong>意图：</strong>运用共享技术有效地支持大量细粒度的对象。</li>
<li><strong>主要解决：</strong>在有大量对象时，有可能会造成内存溢出，我们把其中共同的部分抽象出来，如果有相同的业务请求，直接返回在内存中已有的对象，避免重新创建。</li>
<li><strong>何时使用：</strong> 1、系统中有大量对象。 2、这些对象消耗大量内存。 3、这些对象的状态大部分可以外部化。 4、这些对象可以按照内蕴状态分为很多组，当把外蕴对象从对象中剔除出来时，每一组对象都可以用一个对象来代替。 5、系统不依赖于这些对象身份，这些对象是不可分辨的。</li>
<li><strong>如何解决：</strong>用唯一标识码判断，如果在内存中有，则返回这个唯一标识码所标识的对象。</li>
<li><strong>关键代码：</strong>用 HashMap 存储这些对象。</li>
<li><strong>应用实例：</strong> 1、JAVA 中的 String，如果有则返回，如果没有则创建一个字符串保存在字符串缓存池里面。 2、数据库的数据池。</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2019/01/28/Java%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93Tomcat%E6%9C%8D%E5%8A%A1%E5%99%A8(%E5%86%85%E9%99%84%E5%8E%9F%E7%90%86%E5%92%8C%E6%B5%8B%E8%AF%95)/">Java实现简易Tomcat服务器(内附原理和测试)</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-01-28</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/Tomcat%E6%9C%8D%E5%8A%A1%E5%99%A8-Java%E5%AE%9E%E7%8E%B0Tomcat%E6%9C%8D%E5%8A%A1%E5%99%A8-Web%E6%9C%8D%E5%8A%A1%E5%99%A8/">Tomcat服务器 Java实现Tomcat服务器 Web服务器</a></span><div class="content"><a id="more"></a>

<h3 id="Tomcat简介"><a href="#Tomcat简介" class="headerlink" title="Tomcat简介"></a>Tomcat简介</h3><blockquote>
<p>Tomcat服务器是一个轻量级的Java代码实现的Web服务器。这篇文章会讲述如何用Java实现一个简单的Tomcat服务器。</p>
</blockquote>
<h3 id="1-简易原理"><a href="#1-简易原理" class="headerlink" title="1.简易原理"></a>1.简易原理</h3><ol>
<li><p>Tomcat开始运行后，会在服务器上开一个端口(本文中用的是8888端口)，在所开辟的端口上运行一个ServerScoket,执行accpet()方法等待浏览器访问。</p>
</li>
<li><p>浏览器访问端口，ServerSocket的accept()方法返回一个运行在服务器端的socket，通过socket的getInputStream()方法和getOutputStream方法，可获得浏览器和服务器之间发送的内容和浏览器的响应内容()。</p>
</li>
<li><p>这里我们主要获取浏览器的请求地址和参数，响应时根据浏览器所传的参数和地址，到服务器上去寻找对应的资源(目前只支持静态资源)，将用户请求的资源转化为文件流，传输给前端(浏览器)。</p>
</li>
<li><p>浏览器收到服务器的响应后，向用户展示界面。</p>
<h3 id="2-实现类"><a href="#2-实现类" class="headerlink" title="2.实现类"></a>2.实现类</h3><blockquote>
<p>主要分为以下几个类：<br>(1) Server 用于加载并启动服务器<br>(2) ServerThread 当接收到新请求时，开辟一个新的线程处理它<br>(3) Request 用于获取请求的数据(主要是请求的地址和请求参数)<br>(4) Response 用于响应请求(根据请求所获参数和地址，访问服务器上的资源)<br>(5) GetParam 用于获取环境变量参数</p>
</blockquote>
<h3 id="3-具体实现"><a href="#3-具体实现" class="headerlink" title="3.具体实现"></a>3.具体实现</h3></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">package TomcatServer.server;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileNotFoundException;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.net.ServerSocket;</span><br><span class="line">import java.net.Socket;</span><br><span class="line">import java.util.Properties;</span><br><span class="line"></span><br><span class="line">public class Server &#123;</span><br><span class="line"></span><br><span class="line">    private ServerSocket server;            &#x2F;&#x2F;服务</span><br><span class="line">    private int port;                       &#x2F;&#x2F;端口号</span><br><span class="line">    private static Properties prop;         &#x2F;&#x2F;用于读取配置文件</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;配置参数读取位置</span><br><span class="line">    static &#123;</span><br><span class="line">        prop &#x3D; new Properties();</span><br><span class="line">        try &#123;</span><br><span class="line">            prop.load(new FileInputStream(new File(&quot;src&#x2F;TomcatServer&#x2F;source&#x2F;property.properties&quot;)));</span><br><span class="line">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">            &#x2F;&#x2F; TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            &#x2F;&#x2F; TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">     * @auther: Ragty</span><br><span class="line">     * @describe: 初始化服务器</span><br><span class="line">     * @param: []</span><br><span class="line">     * @return: void</span><br><span class="line">     * @date: 2019&#x2F;1&#x2F;24</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void init() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            port &#x3D; Integer.parseInt(prop.getProperty(&quot;port&quot;));</span><br><span class="line">            server &#x3D; new ServerSocket(port);</span><br><span class="line">            System.out.println(&quot;服务器启动&quot;+ port + &quot;端口&quot;);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">     * @auther: Ragty</span><br><span class="line">     * @describe: 在当前线程内，创建一个Client服务</span><br><span class="line">     * @param: []</span><br><span class="line">     * @return: void</span><br><span class="line">     * @date: 2019&#x2F;1&#x2F;25</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void recive() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            System.out.println(&quot;收到新请求&quot;);</span><br><span class="line">            Socket client &#x3D; server.accept();                       &#x2F;&#x2F;监听服务器，平时等待连接，有client则创建客户端实例(阻塞的)</span><br><span class="line">            ServerThread thread &#x3D; new ServerThread(client);        &#x2F;&#x2F;处理客户端请求,并返回请求页面</span><br><span class="line">            thread.start();</span><br><span class="line">            thread.join();</span><br><span class="line">        &#125; catch (IOException e1) &#123;</span><br><span class="line">            &#x2F;&#x2F; TODO Auto-generated catch block</span><br><span class="line">            e1.printStackTrace();</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            &#x2F;&#x2F; TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Server() &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">     * @auther: Ragty</span><br><span class="line">     * @describe: 启动Tomcat服务器</span><br><span class="line">     * @param: [args]</span><br><span class="line">     * @return: void</span><br><span class="line">     * @date: 2019&#x2F;1&#x2F;25</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        Server server2 &#x3D; new Server();</span><br><span class="line">        server2.init();</span><br><span class="line">        while (true) &#123;           &#x2F;&#x2F;一直等待用户访问定义端口，访问后，开辟新线程处理它</span><br><span class="line">            server2.recive();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">package TomcatServer.Request;</span><br><span class="line"></span><br><span class="line">import TomcatServer.Util.GetParam;</span><br><span class="line">import com.hjy.util.GetParm;</span><br><span class="line"></span><br><span class="line">import java.io.BufferedReader;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStreamReader;</span><br><span class="line">import java.net.Socket;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class Request &#123;</span><br><span class="line">    private Socket client;                  &#x2F;&#x2F;客户端</span><br><span class="line">    private BufferedReader reader;</span><br><span class="line">    private String url;                     &#x2F;&#x2F;请求资源</span><br><span class="line">    private String method;                  &#x2F;&#x2F;请求方式</span><br><span class="line">    private String protocal;                &#x2F;&#x2F;请求协议</span><br><span class="line">    private Map&lt;String,String&gt; map;         &#x2F;&#x2F;参数列表</span><br><span class="line">    private GetParam getParam;              &#x2F;&#x2F;请求参数分割工具</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public Request() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">     * @auther: Ragty</span><br><span class="line">     * @describe: 接收并客户端(Client)发出的请求，获取请求的链接及参数</span><br><span class="line">     * @param: [client]</span><br><span class="line">     * @return:</span><br><span class="line">     * @date: 2019&#x2F;1&#x2F;25</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public Request(Socket client) &#123;</span><br><span class="line">        this.client &#x3D; client;</span><br><span class="line">        map &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">        getParam &#x3D; new GetParam();</span><br><span class="line">        try &#123;</span><br><span class="line">            reader &#x3D; new BufferedReader(new InputStreamReader(client.getInputStream()));</span><br><span class="line">            String firstLine &#x3D; reader.readLine();</span><br><span class="line">            String[] spilt &#x3D; firstLine.split(&quot; &quot;);</span><br><span class="line"></span><br><span class="line">            method &#x3D; spilt[0];</span><br><span class="line">            url &#x3D; spilt[1];</span><br><span class="line">            protocal &#x3D; spilt[2];</span><br><span class="line">            System.out.println(url);</span><br><span class="line"></span><br><span class="line">            if (method.equalsIgnoreCase(&quot;get&quot;)) &#123;</span><br><span class="line">                if(url.contains(&quot;?&quot;)) &#123;</span><br><span class="line">                    String[] split2 &#x3D; url.split(&quot;[?]&quot;);</span><br><span class="line">                    url &#x3D; split2[0];                               &#x2F;&#x2F;重新定义url</span><br><span class="line">                    String property &#x3D; split2[1];</span><br><span class="line">                    map &#x3D; getParam.getParam(property);             &#x2F;&#x2F;分割参数</span><br><span class="line">                 &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                int length &#x3D; 0;</span><br><span class="line">                while (reader.ready()) &#123;                           &#x2F;&#x2F;确保已经缓冲完毕</span><br><span class="line">                    String line &#x3D; reader.readLine();</span><br><span class="line">                    if (line.contains(&quot;Content-Length&quot;)) &#123;</span><br><span class="line">                        String[] spilt2 &#x3D; line.split(&quot; &quot;);</span><br><span class="line">                        length &#x3D; Integer.parseInt(spilt2[1]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    if (line.equals(&quot;&quot;)) &#123;                          &#x2F;&#x2F;Post方法无参数</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                String info &#x3D; null;</span><br><span class="line">                char[] ch &#x3D; new char[length];</span><br><span class="line">                reader.read(ch , 0, length);</span><br><span class="line">                info &#x3D; new String(ch, 0, length);</span><br><span class="line">                map &#x3D; getParam.getParam(info);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public Socket getClient() &#123; return client; &#125;</span><br><span class="line">    public void setClient(Socket client) &#123; this.client &#x3D; client; &#125;</span><br><span class="line"></span><br><span class="line">    public String getUrl() &#123; return url; &#125;</span><br><span class="line">    public void setUrl(String url) &#123; this.url &#x3D; url; &#125;</span><br><span class="line"></span><br><span class="line">    public String getMethod() &#123; return method; &#125;</span><br><span class="line">    public void setMethod(String method) &#123; this.method &#x3D; method; &#125;</span><br><span class="line"></span><br><span class="line">    public String getProtocal() &#123; return protocal; &#125;</span><br><span class="line">    public void setProtocal(String protocal) &#123; this.protocal &#x3D; protocal; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">package TomcatServer.Response;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line">import java.net.Socket;</span><br><span class="line"></span><br><span class="line">public class Response &#123;</span><br><span class="line"></span><br><span class="line">    private Socket client;</span><br><span class="line">    private PrintStream ps;</span><br><span class="line">    private String path &#x3D; null;</span><br><span class="line"></span><br><span class="line">    public Response() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">     * @auther: Ragty</span><br><span class="line">     * @describe: 获取服务端传输给客户端的输出流</span><br><span class="line">     * @param: [client]</span><br><span class="line">     * @return:</span><br><span class="line">     * @date: 2019&#x2F;1&#x2F;24</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public Response(Socket client) &#123;</span><br><span class="line">        super();</span><br><span class="line">        this.client &#x3D; client;</span><br><span class="line">        try &#123;</span><br><span class="line">            ps &#x3D; new PrintStream(client.getOutputStream());</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">     * @auther: Ragty</span><br><span class="line">     * @describe:根据当前路径将服务器上有的资源用流传给客户端</span><br><span class="line">     * @param: []</span><br><span class="line">     * @return: void</span><br><span class="line">     * @date: 2019&#x2F;1&#x2F;24</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void forword() throws FileNotFoundException &#123;</span><br><span class="line">        FileInputStream fis &#x3D; null;</span><br><span class="line">        try &#123;</span><br><span class="line">            fis &#x3D; new FileInputStream(new File(path));</span><br><span class="line">            ps.println(&quot;HTTP&#x2F;1.1 200 OK&quot;);</span><br><span class="line">            ps.println();</span><br><span class="line">            byte[] buf &#x3D; new byte[1024];</span><br><span class="line">            int length &#x3D; 0;</span><br><span class="line">            while ( (length &#x3D; fis.read(buf)) !&#x3D; -1 ) &#123;</span><br><span class="line">                ps.write(buf, 0, length);</span><br><span class="line">                ps.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                if (fis !&#x3D; null) &#123;fis.close();&#125;</span><br><span class="line">                if (ps !&#x3D; null) &#123;ps.close();&#125;</span><br><span class="line">                if (client !&#x3D; null) &#123;client.close();&#125;</span><br><span class="line">            &#125; catch (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;*</span><br><span class="line">     * @auther: Ragty</span><br><span class="line">     * @describe: 分情况处理请求Url(1.为空，返回默认资源 2.存在，加载该资源 3.不存在，返回错误信息)</span><br><span class="line">     * @param: [url]</span><br><span class="line">     * @return: void</span><br><span class="line">     * @date: 2019&#x2F;1&#x2F;24</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void forword(String url) &#123;</span><br><span class="line"></span><br><span class="line">        if (url.equals(&quot;&#x2F;&quot;)) &#123;</span><br><span class="line">            path &#x3D; &quot;src&#x2F;TomcatServer&#x2F;source&#x2F;2.jpg&quot;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            path &#x3D; &quot;src&#x2F;TomcatServer&#x2F;source&quot; + url;</span><br><span class="line">            File file &#x3D; new File(path);</span><br><span class="line">            if (!file.exists()) &#123; path &#x3D; &quot;src&#x2F;TomcatServer&#x2F;source&#x2F;error.html&quot;; &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            forword();</span><br><span class="line">        &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-测试效果"><a href="#4-测试效果" class="headerlink" title="4.测试效果"></a>4.测试效果</h3><p>浏览器输入 <a href="http://localhost:8888" target="_blank" rel="noopener">http://localhost:8888</a> ，效果如下<br><img src="https://img-blog.csdnimg.cn/20190128140924350.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" alt=""><br>浏览器输入 <a href="http://localhost:8888/success.html" target="_blank" rel="noopener">http://localhost:8888/success.html</a> ，效果如下<br><img src="https://img-blog.csdnimg.cn/20190128141206725.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2019/01/24/MarkDown%20%E7%BC%96%E8%BE%91%E5%99%A8%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">MarkDown 编辑器基本语法</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-01-24</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/MarkDown/">MarkDown</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/MarkDown/">MarkDown</a></span><div class="content"><a id="more"></a>

<p>Markdown是一种纯文本格式的标记语言。通过简单的标记语法，它可以使普通文本内容具有一定的格式。</p>

<p>相比WYSIWYG编辑器</p>

<p><strong>优点：</strong><br />
1、因为是纯文本，所以只要支持Markdown的地方都能获得一样的编辑效果，可以让作者摆脱排版的困扰，专心写作。<br />
2、操作简单。比如:WYSIWYG编辑时标记个标题，先选中内容，再点击导航栏的标题按钮，选择几级标题。要三个步骤。而Markdown只需要在标题内容前加#即可</p>

<p><strong>缺点：</strong><br />
1、需要记一些语法（当然，是很简单。五分钟学会）。<br />
2、有些平台不支持Markdown编辑模式。</p>

<p>还好，简书是支持Markdown编辑模式的。</p>

<pre class="has">
<code>开启方式：设置-&gt;默认编辑器-&gt;Markdown编辑器
</code></pre>

<h1>一、标题</h1>

<p>在想要设置为标题的文字前面加#来表示<br />
一个#是一级标题，二个#是二级标题，以此类推。支持六级标题。</p>

<p>注：标准语法一般在#后跟个空格再写文字，貌似简书不加空格也行。</p>

<p>示例：</p>

<pre class="has">
<code># 这是一级标题
## 这是二级标题
### 这是三级标题
#### 这是四级标题
##### 这是五级标题
###### 这是六级标题
</code></pre>

<p>效果如下：</p>

<h1>这是一级标题</h1>

<h2>这是二级标题</h2>

<h3>这是三级标题</h3>

<p>这是四级标题</p>

<p>这是五级标题</p>

<p>这是六级标题</p>

<hr /><h1>二、字体</h1>

<ul><li>
    <p>加粗</p>
    </li>
</ul><p>要加粗的文字左右分别用两个*号包起来</p>

<ul><li>
    <p>斜体</p>
    </li>
</ul><p>要倾斜的文字左右分别用一个*号包起来</p>

<ul><li>
    <p>斜体加粗</p>
    </li>
</ul><p>要倾斜和加粗的文字左右分别用三个*号包起来</p>

<ul><li>
    <p>删除线</p>
    </li>
</ul><p>要加删除线的文字左右分别用两个~~号包起来</p>

<p>示例：</p>

<pre class="has">
<code>**这是加粗的文字**
*这是倾斜的文字*`
***这是斜体加粗的文字***
~~这是加删除线的文字~~
</code></pre>

<p>效果如下：</p>

<p><strong>这是加粗的文字</strong><br /><em>这是倾斜的文字</em><br /><strong><em>这是斜体加粗的文字</em></strong><br />
这是加删除线的文字</p>

<hr /><h1>三、引用</h1>

<p>在引用的文字前加&gt;即可。引用也可以嵌套，如加两个&gt;&gt;三个&gt;&gt;&gt;<br />
n个...<br />
貌似可以一直加下去，但没神马卵用</p>

<p>示例：</p>

<pre class="has">
<code>&gt;这是引用的内容
&gt;&gt;这是引用的内容
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;这是引用的内容
</code></pre>

<p>效果如下：</p>

<blockquote>
<p>这是引用的内容</p>

<blockquote>
<p>这是引用的内容</p>

<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>这是引用的内容</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>

<h1>四、分割线</h1>

<p>三个或者三个以上的 - 或者 * 都可以。</p>

<p>示例：</p>

<pre class="has">
<code>---
----
***
*****
</code></pre>

<p>效果如下：<br />
可以看到，显示效果是一样的。</p>

<hr /><hr /><hr /><hr /><h1>五、图片</h1>

<p>语法：</p>

<pre class="has">
<code>![图片alt](图片地址 ''图片title'')

图片alt就是显示在图片下面的文字，相当于对图片内容的解释。
图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加
</code></pre>

<p>示例：</p>

<pre class="has">
<code>![blockchain](https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/
u=702257389,1274025419&amp;fm=27&amp;gp=0.jpg "区块链")
</code></pre>

<p>效果如下：</p>

<p> </p>

<p><img alt="" class="has" src="//upload-images.jianshu.io/upload_images/6860761-fd2f51090a890873.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/550/format/webp" /></p>

<p>blockchain</p>

<p><strong>上传本地图片直接点击导航栏的图片标志，选择图片即可</strong></p>

<h1>六、超链接</h1>

<p>语法：</p>

<pre class="has">
<code>[超链接名](超链接地址 "超链接title")
title可加可不加
</code></pre>

<p>示例：</p>

<pre class="has">
<code>[百度](http://baidu.com)
</code></pre>

<p>效果如下：<br /><a href="http://baidu.com" target="_blank" rel="noopener">百度</a></p>

<pre class="has">
<code>&lt;a href="超链接地址" target="_blank"&gt;超链接名&lt;/a&gt;

示例
&lt;a href="https://www.jianshu.com/u/1f5ac0cf6a8b" target="_blank"&gt;简书&lt;/a&gt;
</code></pre>

<hr /><h1>七、列表</h1>

<ul><li>
    <p>无序列表</p>
    </li>
</ul><p>语法：<br />
无序列表用 - + * 任何一种都可以</p>

<pre class="has">
<code>- 列表内容
+ 列表内容
* 列表内容

注意：- + * 跟内容之间都要有一个空格

</code></pre>

<p>效果如下：</p>

<ul><li>列表内容</li>
</ul><ul><li>列表内容</li>
</ul><ul><li>列表内容</li>
</ul><ul><li>
    <p>有序列表</p>
    </li>
</ul><p>语法：<br />
数字加点</p>

<pre class="has">
<code>1.列表内容
2.列表内容
3.列表内容

注意：序号跟内容之间要有空格
</code></pre>

<p>效果如下：</p>

<p>1.列表内容<br />
2.列表内容<br />
3.列表内容</p>

<ul><li>
    <p>列表嵌套</p>
    </li>
</ul><p><strong>上一级和下一级之间敲三个空格即可</strong></p>

<ul><li>
    <p>一级无序列表内容</p>

<pre><code>&lt;ul&gt;&lt;li&gt;二级无序列表内容&lt;/li&gt;
    &lt;li&gt;二级无序列表内容&lt;/li&gt;
    &lt;li&gt;二级无序列表内容&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一级无序列表内容&lt;/p&gt;

&lt;ol&gt;&lt;li&gt;二级有序列表内容&lt;/li&gt;
    &lt;li&gt;二级有序列表内容&lt;/li&gt;
    &lt;li&gt;二级有序列表内容&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;</code></pre></ul><ol><li>
    <p>一级有序列表内容</p>

<pre><code>&lt;ul&gt;&lt;li&gt;二级无序列表内容&lt;/li&gt;
    &lt;li&gt;二级无序列表内容&lt;/li&gt;
    &lt;li&gt;二级无序列表内容&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一级有序列表内容&lt;/p&gt;

&lt;ol&gt;&lt;li&gt;二级有序列表内容&lt;/li&gt;
    &lt;li&gt;二级有序列表内容&lt;/li&gt;
    &lt;li&gt;二级有序列表内容&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;</code></pre></ol><hr /><h1>八、表格</h1>

<p>语法：</p>

<pre class="has">
<code>表头|表头|表头
---|:--:|---:
内容|内容|内容
内容|内容|内容

第二行分割表头和内容。
- 有一个就行，为了对齐，多加了几个
文字默认居左
-两边加：表示文字居中
-右边加：表示文字居右
注：原生的语法两边都要用 | 包起来。此处省略
</code></pre>

<p>示例：</p>

<pre class="has">
<code>姓名|技能|排行
--|:--:|--:
刘备|哭|大哥
关羽|打|二哥
张飞|骂|三弟
</code></pre>

<p>效果如下：</p>

<table><thead><tr><th>姓名</th>
            <th>技能</th>
            <th>排行</th>
        </tr></thead><tbody><tr><td>刘备</td>
            <td>哭</td>
            <td>大哥</td>
        </tr><tr><td>关羽</td>
            <td>打</td>
            <td>二哥</td>
        </tr><tr><td>张飞</td>
            <td>骂</td>
            <td>三弟</td>
        </tr></tbody></table><h1>九、代码</h1>

<p>语法：<br />
单行代码：代码之间分别用一个反引号包起来</p>

<pre class="has">
<code>    `代码内容`
</code></pre>

<p>代码块：代码之间分别用三个反引号包起来，且两边的反引号单独占一行</p>

<pre class="has">
<code>(```)
  代码...
  代码...
  代码...
(```)
</code></pre>

<blockquote>
<p>注：为了防止转译，前后三个反引号处加了小括号，实际是没有的。这里只是用来演示，实际中去掉两边小括号即可。</p>
</blockquote>

<p>示例：</p>

<p>单行代码</p>

<pre class="has">
<code>`create database hero;`
</code></pre>

<p>代码块</p>

<pre class="has">
<code>(```)
    function fun(){
         echo "这是一句非常牛逼的代码";
    }
    fun();
(```)
</code></pre>

<p>效果如下：</p>

<p>单行代码</p>

<p><code>create database hero;</code></p>

<p>代码块</p>

<pre class="has">
<code>function fun(){
  echo "这是一句非常牛逼的代码";
}
fun();
</code></pre>

<h1><br />
 </h1></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2019/01/23/Java%E7%88%AC%E8%99%AB%E6%8A%93%E5%8F%96%E7%BD%91%E9%A1%B5%E6%95%B0%E6%8D%AE(%E6%8A%93%E5%8F%96%E6%85%95%E8%AF%BE%E7%BD%91%E8%AE%BA%E5%9D%9B%E4%B8%BA%E5%AE%9E%E4%BE%8B)/">Java爬虫抓取网页数据(抓取慕课网论坛为实例)</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-01-23</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/java%E7%88%AC%E8%99%AB/">java爬虫</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/java%E7%88%AC%E8%99%AB-%E7%88%AC%E5%8F%96%E6%95%B0%E6%8D%AE/">java爬虫 爬取数据</a></span><div class="content"><a id="more"></a>

<h3>1. 网络爬虫</h3>

<p><strong><a href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E7%88%AC%E8%9F%B2" target="_blank" rel="noopener">网络爬虫</a></strong>（英语：<strong>web crawler</strong>），也叫网络蜘蛛（spider），是一种用来自动浏览万维网的网络机器人。其目的一般为编纂网络索引。简单来说，就是获取请求的页面源码，再通过正则表达式获取自己需要的内容。 实现的时候大致分为以下几个步骤:</p>

<p>       (1)爬取网页源码</p>

<p>       (2)利用正则截取自己需要的内容(我这里截取问题，以及下面的回答)</p>

<p> </p>

<h3>2.爬取网页源码</h3>

<pre class="has">
<code class="hljs language-java">import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URL;
import java.net.URLConnection;

public class Spider {

    /**
     * @auther: Ragty
     * @describe: 爬虫爬取网页源码
     * @param: [url]
     * @return: java.lang.String
     * @date: 2019/1/23
     */
    public static String getSource (String url) {
        BufferedReader reader = null;
        String result = "";
        try {
            URL realurl = new URL(url);
            URLConnection conn = realurl.openConnection();        //连接外部url

            reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));
            String line = "";
            while ( (line = reader.readLine()) != null ) {
                result += line;
            }
            if (reader != null) {
                reader.close();
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return result;
    }


}
</code></pre>

<p> </p>

<h3>3.抓取规则及实体类</h3>

<pre class="has">
<code class="hljs language-java">import java.util.HashMap;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import JavaSpider.spider.Spider;

public class Imooc {
    public String question;
    public String quesUrl;
    public String quesDescription;
    public Map&lt;String,String&gt; answers;
    public String nextUrl;

    /**
     * @auther: Ragty
     * @describe: 爬取慕课问答界面的问题及回答
     * @param: [url]
     * @return:
     * @date: 2019/1/23
     */
    public Imooc(String url) {
        question="";
        quesUrl=url;
        quesDescription="";
        answers = new HashMap&lt;String,String&gt;();
        nextUrl="";

        //获取单个问题页面源码
        String codeSource = Spider.getSource(url);

        //正则获取question
        Pattern pattern=Pattern.compile("js-qa-wenda-title.+?&gt;(.+?)&lt;/h1&gt;");
        Matcher matcher=pattern.matcher(codeSource);
        if(matcher.find()){
            question = matcher.group(1);
        }

        //正则表达式获取问题描述
        pattern=Pattern.compile("js-qa-wenda.+?rich-text\"&gt;(.+?)&lt;/div&gt;");
        matcher=pattern.matcher(codeSource);
        if(matcher.find()){
            quesDescription = matcher.group(1).replace("&lt;p&gt;", "").replace("&lt;/p&gt;", "");
        }

        //正则表达式获取答案列表
        pattern=Pattern.compile("nickname.+?&gt;(.+?)&lt;/a&gt;.+?answer-desc rich-text aimgPreview.+?&gt;(.+?)&lt;/div&gt;");
        matcher=pattern.matcher(codeSource);
        while(matcher.find()){
            String answer = matcher.group(2).replace("&lt;p&gt;", "");
            answer = answer.replace("&lt;/p&gt;", "");
            answer = answer.replace("&lt;br /&gt;", "");
            String name = matcher.group(1);
            answers.put(name.trim(), answer.trim());
        }

        //正则表达式获取下一个url    爬取获取相关问题的url
        pattern=Pattern.compile("class=\"r relwenda\".+?href=\"(.+?)\".+?&lt;/a&gt;");//获取回答者name
        matcher=pattern.matcher(codeSource);
        while(matcher.find()){
            nextUrl="http://www.imooc.com"+matcher.group(1);
            //只取第一个推荐
            if(!nextUrl.equals(quesUrl)){
                break;
            }
        }
    }

    @Override
    public String toString() {
        return "问题为:"+ question +"\n问题地址为:"+quesUrl+
                "\n问题的表述为:"+quesDescription+"\n"
                + "回答的内容为:"+answers+"\n指向下一个链接地址为:"+nextUrl+"\n";
    }

}
</code></pre>

<p> </p>

<h3>3.抓取测试类</h3>

<pre class="has">
<code class="hljs language-java">package JavaSpider.main;

import JavaSpider.bean.Imooc;

public class Main {

    public static void main(String[] args) {
        String url = "http://www.imooc.com/wenda/detail/351144";
        Imooc imooc;

        for(int i=0; i&lt;5;i++){
            imooc = new Imooc(url);
            url = imooc.nextUrl;
            System.out.println(imooc);
        }
    }
}
</code></pre>

<p> </p>

<h3>4.测试网站原样</h3>

<p>测试网址：<a href="http://www.imooc.com/wenda/detail/351144" target="_blank" rel="noopener">http://www.imooc.com/wenda/detail/351144</a></p>

<p><br /></p>

<h3>5. 测试效果 </h3>

<pre class="has">
<code class="hljs language-java">问题为:为啥要做程序员，初心是什么？
问题地址为:http://www.imooc.com/wenda/detail/351144
问题的表述为:                        如题&lt;br /&gt;                    
回答的内容为:{慕粉1043575294=一位大牛曾经说过：“我以前原本以为计算机是一个很好的工具，但我真正了解它我才发现或许它也可以像我们一样拥有生命！我想让她活过来。”(我没那么高的逼格，当初接触这个目的只是为了赚点外快。希望可以帮助迷茫的你), 浩哥辣么帅=专业就是这个，感觉挣得也多，好好学，不会太差，然后就一直做这个了。, Ea_=&lt;pre class="brush:js;toolbar:false"&gt;console.log("%c 为了活着","color:red")&lt;/pre&gt;, 慕尼黑1381709=return "一失足成千古恨", qq_lol_9=为了养的起我的女人，让她过的更好！, 小熊熊HELLO=&lt;strong&gt;听说工资高&lt;/strong&gt;, 不可忍=想跟被人一样装逼, Lani_Carol=&lt;pre class="brush:java;toolbar:false"&gt;System.out.println("可能只是因为一时的突发奇想，选择了这条不归路。所以硬着头皮也要走下去！");&lt;/pre&gt;, 望远=&lt;pre class="brush:bash;toolbar:false"&gt;echo "一切不以赚钱为目的的工作都是在浪费生命！！"&lt;/pre&gt;, 秋名山车神=因为想学黑客技术, 程序蒜=&lt;pre class="brush:php;toolbar:false;"&gt;for (i=1; i&amp;lt;=999999999999999999999999999999999999999; i++) {        echo "被逼的！";}&lt;/pre&gt;, Caballarii=赚钱，装什么高大上, 慕村1106498=&lt;pre class="brush:php;toolbar:false"&gt;&amp;lt;?php    echo "I Love PHP";?&amp;gt;&lt;/pre&gt;, 萧俊介=&lt;pre class="brush:php;toolbar:false"&gt;echo "为了找个合理的理由穿女装！"&lt;/pre&gt;, 江户川秋风=为了毛爷爷, 天使之翼死神之镰=心之所向, 慕粉1922268251=&lt;p dir="ltr"&gt;听说能坐办公室。。。, qq_你微笑时好美_04175474=&lt;pre class="brush:java;toolbar:false"&gt;System.out.println("感兴趣")；&lt;/pre&gt;, 加加摩尔=初心还能有啥，小时候游戏玩多了，天天想摸着电脑，长大又觉得黑客很牛逼，然后学了个编程语言天天混迹在温饱线上~, 叫我娜姐=&lt;pre class="brush:js;toolbar:false"&gt;alert("听说是可以坐着上班的，还可以天天玩电脑。");&lt;/pre&gt;}
指向下一个链接地址为:http://www.imooc.com/wenda/detail/493069

问题为:springboot2.1 引入spring-boot-starter-web时启动报错
问题地址为:http://www.imooc.com/wenda/detail/493069
问题的表述为:                        idea生成的springboot项目，当pom文件引入spring-boot-starter-web时 启动报错&lt;pre class="brush:java;toolbar:false"&gt;java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]    at java.util.concurrent.FutureTask.report(FutureTask.java:122) [na:1.8.0_191]    at java.util.concurrent.FutureTask.get(FutureTask.java:192) [na:1.8.0_191]    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:914) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1382) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1372) [tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) [na:1.8.0_191]    at java.util.concurrent.FutureTask.run(FutureTask.java) [na:1.8.0_191]    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) [na:1.8.0_191]    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:907) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:933) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:398) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&amp;lt;init&amp;gt;(TomcatWebServer.java:86) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) [spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at com.example.demo.DemoApplication.main(DemoApplication.java:10) [classes/:na]Caused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:181) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5041) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1382) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1372) [tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) [na:1.8.0_191]    at java.util.concurrent.FutureTask.run(FutureTask.java) [na:1.8.0_191]    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) [na:1.8.0_191]    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:907) [tomcat-embed-core-9.0.14.jar:9.0.14]    ... 30 common frames omittedCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1178) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    ... 41 common frames omitted2019-01-21 22:19:30.303 ERROR 30556 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during startjava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_191]    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_191]    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:914) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:933) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:398) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:106) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&amp;lt;init&amp;gt;(TomcatWebServer.java:86) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:415) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:181) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:154) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:540) [spring-context-5.1.4.RELEASE.jar:5.1.4.RELEASE]    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.2.RELEASE.jar:2.1.2.RELEASE]    at com.example.demo.DemoApplication.main(DemoApplication.java:10) [classes/:na]Caused by: org.apache.catalina.LifecycleException: A child container failed during start    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1382) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1372) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) ~[na:1.8.0_191]    at java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:1.8.0_191]    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) ~[na:1.8.0_191]    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:907) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    ... 21 common frames omittedCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]    at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_191]    at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_191]    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:914) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    ... 30 common frames omittedCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:181) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5041) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1382) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1372) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) ~[na:1.8.0_191]    at java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:1.8.0_191]    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) ~[na:1.8.0_191]    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:907) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    ... 30 common frames omittedCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1178) ~[tomcat-embed-core-9.0.14.jar:9.0.14]    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.14.jar:9.0.14]    ... 41 common frames omittedDisconnected from the target VM, address: '127.0.0.1:57321', transport: 'socket'2019-01-21 22:19:30.321  INFO 30556 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]2019-01-21 22:19:30.322  WARN 30556 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat2019-01-21 22:19:30.322  INFO 30556 --- [           main] ConditionEvaluationReportLoggingListener : Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.2019-01-21 22:19:30.333 ERROR 30556 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : ***************************APPLICATION FAILED TO START***************************Description:An attempt was made to call the method javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String; but it does not exist. Its class, javax.servlet.ServletContext, is available from the following locations:    jar:file:/C:/Program%20Files%20(x86)/JAVA/JDK/jre/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class    jar:file:/C:/Mavn/maven-repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.14/tomcat-embed-core-9.0.14.jar!/javax/servlet/ServletContext.classIt was loaded from the following location:    file:/C:/Program%20Files%20(x86)/JAVA/JDK/jre/lib/ext/servlet-api.jarAction:Correct the classpath of your application so that it contains a single, compatible version of javax.servlet.ServletContextProcess finished with exit code 1&lt;/pre&gt;截图为：&lt;br /&gt;&lt;img src="https://img3.mukewang.com/5c45dc8a0001b44c05000236.jpg" title="" alt="https://img.mukewang.com/5c45dc8a0001b44c16890797.jpg" /&gt;&lt;img src="https://img3.mukewang.com/5c45dca50001f8e405000250.jpg" title="" alt="https://img.mukewang.com/5c45dca50001f8e417630881.jpg" /&gt;跪求大佬！！！                    
回答的内容为:{阿尔法a=你按照我下面的步骤来一遍，应该没问题的。&lt;img src="https://img1.mukewang.com/5c45f4c200016d1d05000353.jpg" title="" alt="https://img3.mukewang.com/5c45f4c200016d1d08350588.jpg" /&gt;&lt;img src="https://img2.mukewang.com/5c45f5370001bd1605000472.jpg" title="" alt="https://img3.mukewang.com/5c45f5370001bd1610330975.jpg" /&gt;&lt;img src="https://img2.mukewang.com/5c45f5210001323a05000472.jpg" title="" alt="https://img3.mukewang.com/5c45f5210001323a10330975.jpg" /&gt;&lt;img src="https://img1.mukewang.com/5c45f5510001fe2005000472.jpg" title="" alt="https://img2.mukewang.com/5c45f5510001fe2010330975.jpg" /&gt;&lt;img src="https://img.mukewang.com/5c45f5ac000176e805000271.jpg" title="" alt="https://img1.mukewang.com/5c45f5ac000176e819201039.jpg" /&gt;如果成功了，希望采纳，互相获得积分。下面是我的pom.xml文件，你可以对比一下。如果还有问题，在这里回复我。&lt;pre class="brush:xml;toolbar:false"&gt;&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;&amp;lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&amp;gt;   &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;   &amp;lt;parent&amp;gt;      &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;      &amp;lt;artifactId&amp;gt;spring-boot-starter-parent&amp;lt;/artifactId&amp;gt;      &amp;lt;version&amp;gt;2.1.2.RELEASE&amp;lt;/version&amp;gt;      &amp;lt;relativePath/&amp;gt; &amp;lt;!-- lookup parent from repository --&amp;gt;   &amp;lt;/parent&amp;gt;   &amp;lt;groupId&amp;gt;com.example&amp;lt;/groupId&amp;gt;   &amp;lt;artifactId&amp;gt;demo&amp;lt;/artifactId&amp;gt;   &amp;lt;version&amp;gt;0.0.1-SNAPSHOT&amp;lt;/version&amp;gt;   &amp;lt;name&amp;gt;demo&amp;lt;/name&amp;gt;   &amp;lt;description&amp;gt;Demo project for Spring Boot&amp;lt;/description&amp;gt;   &amp;lt;properties&amp;gt;      &amp;lt;java.version&amp;gt;1.8&amp;lt;/java.version&amp;gt;   &amp;lt;/properties&amp;gt;   &amp;lt;dependencies&amp;gt;      &amp;lt;dependency&amp;gt;         &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;         &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt;      &amp;lt;/dependency&amp;gt;      &amp;lt;dependency&amp;gt;         &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;         &amp;lt;artifactId&amp;gt;spring-boot-starter-test&amp;lt;/artifactId&amp;gt;         &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;      &amp;lt;/dependency&amp;gt;   &amp;lt;/dependencies&amp;gt;   &amp;lt;build&amp;gt;      &amp;lt;plugins&amp;gt;         &amp;lt;plugin&amp;gt;            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;            &amp;lt;artifactId&amp;gt;spring-boot-maven-plugin&amp;lt;/artifactId&amp;gt;         &amp;lt;/plugin&amp;gt;      &amp;lt;/plugins&amp;gt;   &amp;lt;/build&amp;gt;&amp;lt;/project&amp;gt;&lt;/pre&gt;, qq_沉稳_3=加了tomcat之后报错&lt;img src="https://img2.mukewang.com/5c46e4ad000104b705000273.jpg" title="" alt="https://img4.mukewang.com/5c46e4ad000104b719201048.jpg" /&gt;}
指向下一个链接地址为:http://www.imooc.com/wenda/detail/493284

问题为:如何成功的连接到数据库中？
问题地址为:http://www.imooc.com/wenda/detail/493284
问题的表述为:                        &lt;img src="https://img3.mukewang.com/5c46e3cb00011e4305000167.jpg" title="" alt="https://img2.mukewang.com/5c46e3cb00011e4311090369.jpg" /&gt;没办法和老师一样在数据库中成功的建表，还望大牛指点一下子，万分感谢！！                    
回答的内容为:{阿尔法a=首先看一下你的本地数据库账号密码对不对，然后在resources下新建一个application-dev.yml，把jpa和DataSource的配置放在这个文档里&lt;img src="https://img1.mukewang.com/5c46f7770001115103630215.jpg" title="" alt="https://img.mukewang.com/5c46f7770001115103630215.jpg" /&gt;, 比格Pick=&lt;img src="https://img.mukewang.com/5c47c19300014e8c05000363.jpg" title="" alt="https://img1.mukewang.com/5c47c19300014e8c09400682.jpg" /&gt;密码与·账户是正确的 ，也新建了一个application.dev.yml,但是还是没有建表成功}
指向下一个链接地址为:http://www.imooc.com/wenda/detail/493069</code></pre>

<p> </p>

<p>   </p>

<p> </p></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2019/01/18/Java%E5%AE%9E%E7%8E%B0AES%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/">Java实现AES加密解密</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-01-18</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/%E5%8A%A0%E5%AF%86/">加密</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/AES-%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86-AES%E5%8A%A0%E5%AF%86Java/">AES 加密解密 AES加密Java</a></span><div class="content"><a id="more"></a>

<h3>1. 什么是AES</h3>

<p><strong>高级加密标准</strong>（英语：<strong>Advanced Encryption Standard</strong>，缩写：<strong>AES</strong>），是一种区块加密标准。这个标准用来替代原先的DES，已经被多方分析且广为全世界所使用。</p>

<p>那么为什么原来的DES会被取代呢，原因就在于其使用56位密钥，比较容易被破解。而AES可以使用128、192、和256位密钥，并且用128位分组加密和解密数据，相对来说安全很多。完善的加密算法在理论上是无法破解的，除非使用穷尽法。使用穷尽法破解密钥长度在128位以上的加密数据是不现实的，仅存在理论上的可能性。统计显示，即使使用目前世界上运算速度最快的计算机，穷尽128位密钥也要花上几十亿年的时间，更不用说去破解采用256位密钥长度的AES算法了。</p>

<p> </p>

<h3>2. AES加密</h3>

<pre class="has">
<code class="hljs language-java">    /*
     * @auther: Ragty
     * @describe: AES加密
     * @param: [content, password]
     * @return: byte[]
     * @date: 2019/1/18
     */
    public static String encrypt(String content, String password) {
        try {
            KeyGenerator kgen = KeyGenerator.getInstance("AES");            // 创建AES的Key生产者
            SecureRandom random = SecureRandom.getInstance("SHA1PRNG");
            random.setSeed(password.getBytes());
            kgen.init(128, random);                                         // 利用用户密码作为随机数初始化出(密码一样，就可以解密)

            SecretKey secretKey = kgen.generateKey();                       // 根据用户密码，生成一个密钥
            byte[] enCodeFormat = secretKey.getEncoded();                   // 返回基本编码格式的密钥，如果此密钥不支持编码，则返回null
            SecretKeySpec key = new SecretKeySpec(enCodeFormat, "AES");     // 转换为AES专用密钥

            Cipher cipher = Cipher.getInstance("AES");                      // 创建密码器
            byte[] byteContent = content.getBytes("utf-8");                 // 设置转换格式
            cipher.init(Cipher.ENCRYPT_MODE, key);                          // 初始化为加密模式的密码器
            byte[] encrypt = cipher.doFinal(byteContent);                   // 加密
            String result = parseByte2HexStr(encrypt);                      // 防止乱码，转换进制

            return result;

        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }</code></pre>

<p> </p>

<h3>2. AES解密</h3>

<p> </p>

<pre class="has">
<code class="hljs language-java">/**
     * @auther: Ragty
     * @describe: AES解密器
     * @param: [content, password]
     * @return: byte[]
     * @date: 2019/1/18
     */
    public static String decrypt(String content, String password) {
        try {
            KeyGenerator kgen = KeyGenerator.getInstance("AES");            // 创建AES的Key生产者
            SecureRandom random = SecureRandom.getInstance("SHA1PRNG");
            random.setSeed(password.getBytes());
            kgen.init(128, random);                                         // 利用用户密码作为随机数初始化出(密码一样，就可以解密)

            SecretKey secretKey = kgen.generateKey();                       // 根据用户密码，生成一个密钥
            byte[] enCodeFormat = secretKey.getEncoded();                   // 返回基本编码格式的密钥，如果此密钥不支持编码，则返回null
            SecretKeySpec key = new SecretKeySpec(enCodeFormat, "AES");     // 转换为AES专用密钥

            Cipher cipher = Cipher.getInstance("AES");                      // 创建密码器
            cipher.init(Cipher.DECRYPT_MODE, key);                          // 初始化为解密模式的密码器
            byte[] results = cipher.doFinal(parseHexStr2Byte(content));     // 解密
            return new String(results);

        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }</code></pre>

<p> </p>

<h3>4. 进制转换工具（不进行进制转换会出现乱码）</h3>

<pre class="has">
<code class="hljs language-java">/*
     * @auther: Ragty
     * @describe: 将二进制转换为十六进制
     * @param: [buf]
     * @return: java.lang.String
     * @date: 2019/1/18
     */
    private static String parseByte2HexStr(byte buf[]) {
        StringBuffer sb = new StringBuffer();
        for (int i = 0; i &lt; buf.length; i++) {
            String hex = Integer.toHexString(buf[i] &amp; 0xFF);
            if (hex.length() == 1) {
                hex = '0' + hex;
            }
            sb.append(hex.toUpperCase());
        }
        return sb.toString();
    }




    /**
     * @auther: Ragty
     * @describe: 十六进制转换二进制
     * @param: [hexStr]
     * @return: byte[]
     * @date: 2019/1/18
     */
    private static byte[] parseHexStr2Byte(String hexStr) {
        if (hexStr.length() &lt; 1)
            return null;
        byte[] result = new byte[hexStr.length()/2];
        for (int i = 0;i&lt; hexStr.length()/2; i++) {
            int high = Integer.parseInt(hexStr.substring(i*2, i*2+1), 16);
            int low = Integer.parseInt(hexStr.substring(i*2+1, i*2+2), 16);
            result[i] = (byte) (high * 16 + low);
        }
        return result;
    }</code></pre>

<p> </p>

<h3>5. 测试程序</h3>

<pre class="has">
<code class="hljs language-java">public static void main(String[] args) {

        String content = "AES 测试";
        String password = "2019";

        String result = encrypt(content,password);
        String decrypt = decrypt(result,password);

        System.out.println("加密前:" + content);
        System.out.println("加密后:" + result);
        System.out.println("解密后:" + decrypt);

    }</code></pre>

<h3>6. 测试结果 </h3>

<pre class="has">
<code class="hljs language-java">加密前:AES 测试
加密后:E385F2B1B2BED8898C8A9D92F41BD637
解密后:AES 测试</code></pre>

<p> </p>

<p> </p></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2019/01/16/Java%E6%A8%A1%E6%8B%9FHttp%E8%AF%B7%E6%B1%82%E8%BF%9C%E7%A8%8B%E6%8E%A5%E5%8F%A3/">Java模拟Http请求远程接口</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-01-16</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/http/">http</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/Http-Post-Get/">Http Post Get</a></span><div class="content"><a id="more"></a>

<p>     最近业务需要请求远程API接口，并返回相应的数据，同步到公司的服务器。因此编写了下面两个方法，主要是用Java.net.URL模拟http请求，主要写了POST和GET两个方法。</p>

<h3>1.GET请求</h3>

<pre class="has">
<code class="language-java">/*
     * @auther: Ragty
     * @describe: Get请求远程接口
     * @param: [url, parameters]
     * @return: java.lang.String
     * @date: 2019/1/16
     */
    public static String sendGet(String url, Map&lt;String, String&gt; parameters) {

        String result="";
        BufferedReader in = null;// 读取响应输入流
        StringBuffer sb = new StringBuffer();// 存储参数
        String params = "";// 编码之后的参数

        try {
            // 编码请求参数
            if(parameters.size()==1){
                for(String name:parameters.keySet()){
                    sb.append(name).append("=").append(java.net.URLEncoder.encode(parameters.get(name), "UTF-8"));
                }
                params=sb.toString();
            }else{
                for (String name : parameters.keySet()) {
                    sb.append(name).append("=").append(java.net.URLEncoder.encode(parameters.get(name), "UTF-8")).append("&amp;");
                }
                String temp_params = sb.toString();
                params = temp_params.substring(0, temp_params.length() - 1);
            }

            String full_url = url + "?" + params;
            System.out.println("请求链接为:"+full_url);
            // 创建URL对象
            URL connURL = new java.net.URL(full_url);
            // 打开URL连接
            HttpURLConnection httpConn = (java.net.HttpURLConnection) connURL.openConnection();
            // 设置通用属性
            httpConn.setRequestProperty("Accept", "*/*");
            httpConn.setRequestProperty("Connection", "Keep-Alive");
            httpConn.setRequestProperty("User-Agent", "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1)");
            // 建立实际的连接
            httpConn.connect();
            // 响应头部获取
            Map&lt;String, List&lt;String&gt;&gt; headers = httpConn.getHeaderFields();
            // 遍历所有的响应头字段
            for (String key : headers.keySet()) {
                System.out.println(key + "\t：\t" + headers.get(key));
            }
            // 定义BufferedReader输入流来读取URL的响应,并设置编码方式
            in = new BufferedReader(new InputStreamReader(httpConn.getInputStream(), "UTF-8"));
            String line;
            // 读取返回的内容
            while ((line = in.readLine()) != null) {
                result += line;
            }
        } catch (Exception e) {
            e.printStackTrace();
        }finally{
            try {
                if (in != null) { in.close(); }
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }
        return result ;

    }</code></pre>

<p> </p>

<h3>2.POST请求</h3>

<pre class="has">
<code class="language-java">/*
     * @auther: Ragty
     * @describe: Post请求远程接口
     * @param: [url, parameters]
     * @return: java.lang.String
     * @date: 2019/1/16
     */
    public static String sendPost(String url, Map&lt;String, String&gt; parameters) {

        String result = "";// 返回的结果
        BufferedReader in = null;// 读取响应输入流
        PrintWriter out = null;
        StringBuffer sb = new StringBuffer();// 处理请求参数
        String params = "";// 编码之后的参数

        try {
            // 编码请求参数
            if (parameters.size() == 1) {
                for (String name : parameters.keySet()) {
                    sb.append(name).append("=").append(java.net.URLEncoder.encode(parameters.get(name), "UTF-8"));
                }
                params = sb.toString();
            } else {
                for (String name : parameters.keySet()) {
                    sb.append(name).append("=").append(java.net.URLEncoder.encode(parameters.get(name), "UTF-8")).append("&amp;");
                }
                String temp_params = sb.toString();
                params = temp_params.substring(0, temp_params.length() - 1);
            }

            // 创建URL对象
            URL connURL = new URL(url);
            // 打开URL连接
            HttpURLConnection httpConn = (java.net.HttpURLConnection) connURL.openConnection();
            // 设置通用属性
            httpConn.setRequestProperty("Accept", "*/*");
            httpConn.setRequestProperty("Connection", "Keep-Alive");
            httpConn.setRequestProperty("User-Agent", "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1)");
            // 设置POST方式
            httpConn.setDoInput(true);
            httpConn.setDoOutput(true);
            // 获取HttpURLConnection对象对应的输出流
            out = new PrintWriter(httpConn.getOutputStream());
            // 发送请求参数
            out.write(params);
            // flush输出流的缓冲
            out.flush();
            // 定义BufferedReader输入流来读取URL的响应，设置编码方式
            in = new BufferedReader(new InputStreamReader(httpConn.getInputStream(), "UTF-8"));
            String line;
            // 读取返回的内容
            while ((line = in.readLine()) != null) {
                result += line;
            }
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try {
                if (out != null) { out.close(); }
                if (in != null) { in.close(); }
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }
        return result;
    }</code></pre>

<p> </p>

<h3>3.结果测试</h3>

<pre class="has">
<code class="language-java">public static void main(String[] args) {
        Map&lt;String,String&gt; request = new HashMap&lt;String,String&gt;();
        request.put("name","ragty");
        String result = sendGet("https://www.baidu.com",request);
        System.out.println(result);
    }</code></pre>

<p> </p>

<h3>4.输出结果 </h3>

<pre class="has">
<code>请求链接为:https://www.baidu.com?name=ragty
null    ：    [HTTP/1.1 200 OK]
Server    ：    [BWS/1.1]
X-Ua-Compatible    ：    [IE=Edge,chrome=1]
Connection    ：    [Keep-Alive]
Pragma    ：    [no-cache]
Last-Modified    ：    [Thu, 10 Jan 2019 04:12:20 GMT]
P3p    ：    [CP=" OTI DSP COR IVA OUR IND COM "]
Date    ：    [Wed, 16 Jan 2019 12:29:01 GMT]
Accept-Ranges    ：    [bytes]
Etag    ：    ["5c36c624-3982"]
Cache-Control    ：    [no-cache]
Vary    ：    [Accept-Encoding]
Set-Cookie    ：    [PSTM=1547641741; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com, BIDUPSID=A341E15B4265ABB6D36D7938804110FE; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com, BAIDUID=A341E15B4265ABB6D36D7938804110FE:FG=1; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com]
Content-Length    ：    [14722]
Content-Type    ：    [text/html]
&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt;&lt;head&gt;    &lt;meta http-equiv="content-type" content="text/html;charset=utf-8"&gt;    &lt;meta http-equiv="X-UA-Compatible" content="IE=Edge"&gt;    &lt;link rel="dns-prefetch" href="//s1.bdstatic.com"/&gt;    &lt;link rel="dns-prefetch" href="//t1.baidu.com"/&gt;    &lt;link rel="dns-prefetch" href="//t2.baidu.com"/&gt;    &lt;link rel="dns-prefetch" href="//t3.baidu.com"/&gt;    &lt;link rel="dns-prefetch" href="//t10.baidu.com"/&gt;    &lt;link rel="dns-prefetch" href="//t11.baidu.com"/&gt;    &lt;link rel="dns-prefetch" href="//t12.baidu.com"/&gt;    &lt;link rel="dns-prefetch" href="//b1.bdstatic.com"/&gt;    &lt;title&gt;百度一下，你就知道&lt;/title&gt;    &lt;link href="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/home/css/index.css" rel="stylesheet" type="text/css" /&gt;    &lt;!--[if lte IE 8]&gt;&lt;style index="index" &gt;#content{height:480px\9}#m{top:260px\9}&lt;/style&gt;&lt;![endif]--&gt;    &lt;!--[if IE 8]&gt;&lt;style index="index" &gt;#u1 a.mnav,#u1 a.mnav:visited{font-family:simsun}&lt;/style&gt;&lt;![endif]--&gt;    &lt;script&gt;var hashMatch = document.location.href.match(/#+(.*wd=[^&amp;].+)/);if (hashMatch &amp;&amp; hashMatch[0] &amp;&amp; hashMatch[1]) {document.location.replace("http://"+location.host+"/s?"+hashMatch[1]);}var ns_c = function(){};&lt;/script&gt;    &lt;script&gt;function h(obj){obj.style.behavior='url(#default#homepage)';var a = obj.setHomePage('//www.baidu.com/');}&lt;/script&gt;    &lt;noscript&gt;&lt;meta http-equiv="refresh" content="0; url=/baidu.html?from=noscript"/&gt;&lt;/noscript&gt;    &lt;script&gt;window._ASYNC_START=new Date().getTime();&lt;/script&gt;&lt;/head&gt;&lt;body link="#0000cc"&gt;&lt;div id="wrapper" style="display:none;"&gt;&lt;div id="u"&gt;&lt;a href="//www.baidu.com/gaoji/preferences.html"  onmousedown="return user_c({'fm':'set','tab':'setting','login':'0'})"&gt;搜索设置&lt;/a&gt;|&lt;a id="btop" href="/"  onmousedown="return user_c({'fm':'set','tab':'index','login':'0'})"&gt;百度首页&lt;/a&gt;|&lt;a id="lb" href="https://passport.baidu.com/v2/?login&amp;tpl=mn&amp;u=http%3A%2F%2Fwww.baidu.com%2F" onclick="return false;"  onmousedown="return user_c({'fm':'set','tab':'login'})"&gt;登录&lt;/a&gt;&lt;a href="https://passport.baidu.com/v2/?reg&amp;regType=1&amp;tpl=mn&amp;u=http%3A%2F%2Fwww.baidu.com%2F"  onmousedown="return user_c({'fm':'set','tab':'reg'})" target="_blank" class="reg"&gt;注册&lt;/a&gt;&lt;/div&gt;&lt;div id="head"&gt;&lt;div class="s_nav"&gt;&lt;a href="/" class="s_logo" onmousedown="return c({'fm':'tab','tab':'logo'})"&gt;&lt;img src="//www.baidu.com/img/baidu_jgylogo3.gif" width="117" height="38" border="0" alt="到百度首页" title="到百度首页"&gt;&lt;/a&gt;&lt;div class="s_tab" id="s_tab"&gt;&lt;a href="http://news.baidu.com/ns?cl=2&amp;rn=20&amp;tn=news&amp;word=" wdfield="word"  onmousedown="return c({'fm':'tab','tab':'news'})"&gt;新闻&lt;/a&gt;&amp;#12288;&lt;b&gt;网页&lt;/b&gt;&amp;#12288;&lt;a href="http://tieba.baidu.com/f?kw=&amp;fr=wwwt" wdfield="kw"  onmousedown="return c({'fm':'tab','tab':'tieba'})"&gt;贴吧&lt;/a&gt;&amp;#12288;&lt;a href="http://zhidao.baidu.com/q?ct=17&amp;pn=0&amp;tn=ikaslist&amp;rn=10&amp;word=&amp;fr=wwwt" wdfield="word"  onmousedown="return c({'fm':'tab','tab':'zhidao'})"&gt;知道&lt;/a&gt;&amp;#12288;&lt;a href="http://music.baidu.com/search?fr=ps&amp;key=" wdfield="key"  onmousedown="return c({'fm':'tab','tab':'music'})"&gt;音乐&lt;/a&gt;&amp;#12288;&lt;a href="http://image.baidu.com/i?tn=baiduimage&amp;ps=1&amp;ct=201326592&amp;lm=-1&amp;cl=2&amp;nc=1&amp;word=" wdfield="word"  onmousedown="return c({'fm':'tab','tab':'pic'})"&gt;图片&lt;/a&gt;&amp;#12288;&lt;a href="http://v.baidu.com/v?ct=301989888&amp;rn=20&amp;pn=0&amp;db=0&amp;s=25&amp;word=" wdfield="word"   onmousedown="return c({'fm':'tab','tab':'video'})"&gt;视频&lt;/a&gt;&amp;#12288;&lt;a href="http://map.baidu.com/m?word=&amp;fr=ps01000" wdfield="word"  onmousedown="return c({'fm':'tab','tab':'map'})"&gt;地图&lt;/a&gt;&amp;#12288;&lt;a href="http://wenku.baidu.com/search?word=&amp;lm=0&amp;od=0" wdfield="word"  onmousedown="return c({'fm':'tab','tab':'wenku'})"&gt;文库&lt;/a&gt;&amp;#12288;&lt;a href="//www.baidu.com/more/"  onmousedown="return c({'fm':'tab','tab':'more'})"&gt;更多?&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;form id="form" name="f" action="/s" class="fm" &gt;&lt;input type="hidden" name="ie" value="utf-8"&gt;&lt;input type="hidden" name="f" value="8"&gt;&lt;input type="hidden" name="rsv_bp" value="1"&gt;&lt;span class="bg s_ipt_wr"&gt;&lt;input name="wd" id="kw" class="s_ipt" value="" maxlength="100"&gt;&lt;/span&gt;&lt;span class="bg s_btn_wr"&gt;&lt;input type="submit" id="su" value="百度一下" class="bg s_btn" onmousedown="this.className='bg s_btn s_btn_h'" onmouseout="this.className='bg s_btn'"&gt;&lt;/span&gt;&lt;span class="tools"&gt;&lt;span id="mHolder"&gt;&lt;div id="mCon"&gt;&lt;span&gt;输入法&lt;/span&gt;&lt;/div&gt;&lt;ul id="mMenu"&gt;&lt;li&gt;&lt;a href="javascript:;" name="ime_hw"&gt;手写&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="javascript:;" name="ime_py"&gt;拼音&lt;/a&gt;&lt;/li&gt;&lt;li class="ln"&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="javascript:;" name="ime_cl"&gt;关闭&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;&lt;span class="shouji"&gt;&lt;strong&gt;推荐&amp;nbsp;:&amp;nbsp;&lt;/strong&gt;&lt;a href="http://w.x.baidu.com/go/mini/8/10000020" onmousedown="return ns_c({'fm':'behs','tab':'bdbrowser'})"&gt;百度浏览器，打开网页快2秒！&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/form&gt;&lt;/div&gt;&lt;div id="content"&gt;&lt;div id="u1"&gt;&lt;a href="http://news.baidu.com" name="tj_trnews" class="mnav"&gt;新闻&lt;/a&gt;&lt;a href="http://www.hao123.com" name="tj_trhao123" class="mnav"&gt;hao123&lt;/a&gt;&lt;a href="http://map.baidu.com" name="tj_trmap" class="mnav"&gt;地图&lt;/a&gt;&lt;a href="http://v.baidu.com" name="tj_trvideo" class="mnav"&gt;视频&lt;/a&gt;&lt;a href="http://tieba.baidu.com" name="tj_trtieba" class="mnav"&gt;贴吧&lt;/a&gt;&lt;a href="https://passport.baidu.com/v2/?login&amp;tpl=mn&amp;u=http%3A%2F%2Fwww.baidu.com%2F" name="tj_login" id="lb" onclick="return false;"&gt;登录&lt;/a&gt;&lt;a href="//www.baidu.com/gaoji/preferences.html" name="tj_settingicon" id="pf"&gt;设置&lt;/a&gt;&lt;a href="//www.baidu.com/more/" name="tj_briicon" id="bri"&gt;更多产品&lt;/a&gt;&lt;/div&gt;&lt;div id="m"&gt;&lt;p id="lg"&gt;&lt;img src="//www.baidu.com/img/bd_logo.png" width="270" height="129"&gt;&lt;/p&gt;&lt;p id="nv"&gt;&lt;a href="http://news.baidu.com"&gt;新&amp;nbsp;闻&lt;/a&gt;　&lt;b&gt;网&amp;nbsp;页&lt;/b&gt;　&lt;a href="http://tieba.baidu.com"&gt;贴&amp;nbsp;吧&lt;/a&gt;　&lt;a href="http://zhidao.baidu.com"&gt;知&amp;nbsp;道&lt;/a&gt;　&lt;a href="http://music.baidu.com"&gt;音&amp;nbsp;乐&lt;/a&gt;　&lt;a href="http://image.baidu.com"&gt;图&amp;nbsp;片&lt;/a&gt;　&lt;a href="http://v.baidu.com"&gt;视&amp;nbsp;频&lt;/a&gt;　&lt;a href="http://map.baidu.com"&gt;地&amp;nbsp;图&lt;/a&gt;&lt;/p&gt;&lt;div id="fm"&gt;&lt;form id="form1" name="f1" action="/s" class="fm"&gt;&lt;span class="bg s_ipt_wr"&gt;&lt;input type="text" name="wd" id="kw1" maxlength="100" class="s_ipt"&gt;&lt;/span&gt;&lt;input type="hidden" name="rsv_bp" value="0"&gt;&lt;input type=hidden name=ch value=""&gt;&lt;input type=hidden name=tn value="baidu"&gt;&lt;input type=hidden name=bar value=""&gt;&lt;input type="hidden" name="rsv_spt" value="3"&gt;&lt;input type="hidden" name="ie" value="utf-8"&gt;&lt;span class="bg s_btn_wr"&gt;&lt;input type="submit" value="百度一下" id="su1" class="bg s_btn" onmousedown="this.className='bg s_btn s_btn_h'" onmouseout="this.className='bg s_btn'"&gt;&lt;/span&gt;&lt;/form&gt;&lt;span class="tools"&gt;&lt;span id="mHolder1"&gt;&lt;div id="mCon1"&gt;&lt;span&gt;输入法&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/span&gt;&lt;ul id="mMenu1"&gt;&lt;div class="mMenu1-tip-arrow"&gt;&lt;em&gt;&lt;/em&gt;&lt;ins&gt;&lt;/ins&gt;&lt;/div&gt;&lt;li&gt;&lt;a href="javascript:;" name="ime_hw"&gt;手写&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="javascript:;" name="ime_py"&gt;拼音&lt;/a&gt;&lt;/li&gt;&lt;li class="ln"&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="javascript:;" name="ime_cl"&gt;关闭&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;p id="lk"&gt;&lt;a href="http://baike.baidu.com"&gt;百科&lt;/a&gt;　&lt;a href="http://wenku.baidu.com"&gt;文库&lt;/a&gt;　&lt;a href="http://www.hao123.com"&gt;hao123&lt;/a&gt;&lt;span&gt;&amp;nbsp;|&amp;nbsp;&lt;a href="//www.baidu.com/more/"&gt;更多&amp;gt;&amp;gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p id="lm"&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="ftCon"&gt;&lt;div id="ftConw"&gt;&lt;p id="lh"&gt;&lt;a id="seth" onClick="h(this)" href="/" onmousedown="return ns_c({'fm':'behs','tab':'homepage','pos':0})"&gt;把百度设为主页&lt;/a&gt;&lt;a id="setf" href="//www.baidu.com/cache/sethelp/index.html" onmousedown="return ns_c({'fm':'behs','tab':'favorites','pos':0})" target="_blank"&gt;把百度设为主页&lt;/a&gt;&lt;a onmousedown="return ns_c({'fm':'behs','tab':'tj_about'})" href="http://home.baidu.com"&gt;关于百度&lt;/a&gt;&lt;a onmousedown="return ns_c({'fm':'behs','tab':'tj_about_en'})" href="http://ir.baidu.com"&gt;About Baidu&lt;/a&gt;&lt;/p&gt;&lt;p id="cp"&gt;&amp;copy;2018&amp;nbsp;Baidu&amp;nbsp;&lt;a href="/duty/" name="tj_duty"&gt;使用百度前必读&lt;/a&gt;&amp;nbsp;京ICP证030173号&amp;nbsp;&lt;img src="http://s1.bdstatic.com/r/www/cache/static/global/img/gs_237f015b.gif"&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="wrapper_wrapper"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="c-tips-container" id="c-tips-container"&gt;&lt;/div&gt;&lt;script&gt;window.__async_strategy=2;&lt;/script&gt;&lt;script&gt;var bds={se:{},su:{urdata:[],urSendClick:function(){}},util:{},use:{},comm : {domain:"http://www.baidu.com",ubsurl : "http://sclick.baidu.com/w.gif",tn:"baidu",queryEnc:"",queryId:"",inter:"",templateName:"baidu",sugHost : "http://suggestion.baidu.com/su",query : "",qid : "",cid : "",sid : "",indexSid : "",stoken : "",serverTime : "",user : "",username : "",loginAction : [],useFavo : "",pinyin : "",favoOn : "",curResultNum:"",rightResultExist:false,protectNum:0,zxlNum:0,pageNum:1,pageSize:10,newindex:0,async:1,maxPreloadThread:5,maxPreloadTimes:10,preloadMouseMoveDistance:5,switchAddMask:false,isDebug:false,ishome : 1},_base64:{domain : "http://b1.bdstatic.com/",b64Exp : -1,pdc : 0}};var name,navigate,al_arr=[];var selfOpen = window.open;eval("var open = selfOpen;");var isIE=navigator.userAgent.indexOf("MSIE")!=-1&amp;&amp;!window.opera;var E = bds.ecom= {};bds.se.mon = {'loadedItems':[],'load':function(){},'srvt':-1};try {bds.se.mon.srvt = parseInt(document.cookie.match(new RegExp("(^| )BDSVRTM=([^;]*)(;|$)"))[2]);document.cookie="BDSVRTM=;expires=Sat, 01 Jan 2000 00:00:00 GMT"; }catch(e){}&lt;/script&gt;&lt;script&gt;if(!location.hash.match(/[^a-zA-Z0-9]wd=/)){document.getElementById("ftCon").style.display='block';document.getElementById("u1").style.display='block';document.getElementById("content").style.display='block';document.getElementById("wrapper").style.display='block';setTimeout(function(){try{document.getElementById("kw1").focus();document.getElementById("kw1").parentNode.className += ' iptfocus';}catch(e){}},0);}&lt;/script&gt;&lt;script type="text/javascript" src="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/jquery/jquery-1.10.2.min_f2fb5194.js"&gt;&lt;/script&gt;&lt;script&gt;(function(){var index_content = $('#content');var index_foot= $('#ftCon');var index_css= $('head [index]');var index_u= $('#u1');var result_u= $('#u');var wrapper=$("#wrapper");window.index_on=function(){index_css.insertAfter("meta:eq(0)");result_common_css.remove();result_aladdin_css.remove();result_sug_css.remove();index_content.show();index_foot.show();index_u.show();result_u.hide();wrapper.show();if(bds.su&amp;&amp;bds.su.U&amp;&amp;bds.su.U.homeInit){bds.su.U.homeInit();}setTimeout(function(){try{$('#kw1').get(0).focus();window.sugIndex.start();}catch(e){}},0);if(typeof initIndex=='function'){initIndex();}};window.index_off=function(){index_css.remove();index_content.hide();index_foot.hide();index_u.hide();result_u.show();result_aladdin_css.insertAfter("meta:eq(0)");result_common_css.insertAfter("meta:eq(0)");result_sug_css.insertAfter("meta:eq(0)");wrapper.show();};})();&lt;/script&gt;&lt;script&gt;window.__switch_add_mask=1;&lt;/script&gt;&lt;script type="text/javascript" src="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/global/js/instant_search_newi_redirect1_20bf4036.js"&gt;&lt;/script&gt;&lt;script&gt;initPreload();$("#u,#u1").delegate("#lb",'click',function(){try{bds.se.login.open();}catch(e){}});if(navigator.cookieEnabled){document.cookie="NOJS=;expires=Sat, 01 Jan 2000 00:00:00 GMT";}&lt;/script&gt;&lt;script&gt;$(function(){for(i=0;i&lt;3;i++){u($($('.s_ipt_wr')[i]),$($('.s_ipt')[i]),$($('.s_btn_wr')[i]),$($('.s_btn')[i]));}function u(iptwr,ipt,btnwr,btn){if(iptwr &amp;&amp; ipt){iptwr.on('mouseover',function(){iptwr.addClass('ipthover');}).on('mouseout',function(){iptwr.removeClass('ipthover');}).on('click',function(){ipt.focus();});ipt.on('focus',function(){iptwr.addClass('iptfocus');}).on('blur',function(){iptwr.removeClass('iptfocus');}).on('render',function(e){var $s = iptwr.parent().find('.bdsug');var l = $s.find('li').length;if(l&gt;=5){$s.addClass('bdsugbg');}else{$s.removeClass('bdsugbg');}});}if(btnwr &amp;&amp; btn){btnwr.on('mouseover',function(){btn.addClass('btnhover');}).on('mouseout',function(){btn.removeClass('btnhover');});}}});&lt;/script&gt;&lt;script type="text/javascript" src="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/home/js/bri_7f1fa703.js"&gt;&lt;/script&gt;&lt;script&gt;(function(){var _init=false;window.initIndex=function(){if(_init){return;}_init=true;var w=window,d=document,n=navigator,k=d.f1.wd,a=d.getElementById("nv").getElementsByTagName("a"),isIE=n.userAgent.indexOf("MSIE")!=-1&amp;&amp;!window.opera;(function(){if(/q=([^&amp;]+)/.test(location.search)){k.value=decodeURIComponent(RegExp["\x241"])}})();(function(){var u = G("u1").getElementsByTagName("a"), nv = G("nv").getElementsByTagName("a"), lk = G("lk").getElementsByTagName("a"), un = "";var tj_nv = ["news","tieba","zhidao","mp3","img","video","map"];var tj_lk = ["baike","wenku","hao123","more"];un = bds.comm.user == "" ? "" : bds.comm.user;function _addTJ(obj){addEV(obj, "mousedown", function(e){var e = e || window.event;var target = e.target || e.srcElement;if(target.name){ns_c({'fm':'behs','tab':target.name,'un':encodeURIComponent(un)});}});}for(var i = 0; i &lt; u.length; i++){_addTJ(u[i]);}for(var i = 0; i &lt; nv.length; i++){nv[i].name = 'tj_' + tj_nv[i];}for(var i = 0; i &lt; lk.length; i++){lk[i].name = 'tj_' + tj_lk[i];}})();(function() {var links = {'tj_news': ['word', 'http://news.baidu.com/ns?tn=news&amp;cl=2&amp;rn=20&amp;ct=1&amp;ie=utf-8'],'tj_tieba': ['kw', 'http://tieba.baidu.com/f?ie=utf-8'],'tj_zhidao': ['word', 'http://zhidao.baidu.com/search?pn=0&amp;rn=10&amp;lm=0'],'tj_mp3': ['key', 'http://music.baidu.com/search?fr=ps&amp;ie=utf-8'],'tj_img': ['word', 'http://image.baidu.com/i?ct=201326592&amp;cl=2&amp;nc=1&amp;lm=-1&amp;st=-1&amp;tn=baiduimage&amp;istype=2&amp;fm=&amp;pv=&amp;z=0&amp;ie=utf-8'],'tj_video': ['word', 'http://video.baidu.com/v?ct=301989888&amp;s=25&amp;ie=utf-8'],'tj_map': ['wd', 'http://map.baidu.com/?newmap=1&amp;ie=utf-8&amp;s=s'],'tj_baike': ['word', 'http://baike.baidu.com/search/word?pic=1&amp;sug=1&amp;enc=utf8'],'tj_wenku': ['word', 'http://wenku.baidu.com/search?ie=utf-8']};var domArr = [G('nv'), G('lk'),G('cp')],kw = G('kw1');for (var i = 0, l = domArr.length; i &lt; l; i++) {domArr[i].onmousedown = function(e) {e = e || window.event;var target = e.target || e.srcElement,name = target.getAttribute('name'),items = links[name],reg = new RegExp('^\\s+|\\s+\x24'),key = kw.value.replace(reg, '');if (items) {if (key.length &gt; 0) {var wd = items[0], url = items[1],url = url + ( name === 'tj_map' ? encodeURIComponent('&amp;' + wd + '=' + key) : ( ( url.indexOf('?') &gt; 0 ? '&amp;' : '?' ) + wd + '=' + encodeURIComponent(key) ) );target.href = url;} else {target.href = target.href.match(new RegExp('^http:\/\/.+\.baidu\.com'))[0];}}name &amp;&amp; ns_c({'fm': 'behs','tab': name,'query': encodeURIComponent(key),'un': encodeURIComponent(bds.comm.user || '') });};}})();};if(window.pageState==0){initIndex();}})();document.cookie = 'IS_STATIC=1;expires=' + new Date(new Date().getTime() + 10*60*1000).toGMTString();&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>

<p> </p>

<p> </p>

<p> </p>

<h3> </h3></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2018/12/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9A%E6%9F%A5%E6%89%BE+%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">数据结构：查找+思维导图</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%9F%A5%E6%89%BE-%E6%95%A3%E5%88%97%E7%BB%93%E6%9E%84-%E6%9F%A5%E6%89%BE-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">数据结构查找 散列结构 查找 数据结构思维导图</a></span><div class="content"><a id="more"></a>

<h3>1.总体架构</h3>

<p><img alt="" class="has" height="590" src="https://img-blog.csdnimg.cn/20181202151009318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="850" /></p>

<p> </p>

<h3>2.线性结构</h3>

<p><img alt="" class="has" height="590" src="https://img-blog.csdnimg.cn/2018120215114243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="850" /></p>

<p> </p>

<h3>3.散列结构</h3>

<p><img alt="" class="has" height="682" src="https://img-blog.csdnimg.cn/20181202151228190.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="893" /></p></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2018/12/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84!%E5%9B%BE%E7%BB%93%E6%9E%84+%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">数据结构:图结构+思维导图</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-01</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/%E5%9B%BE%E7%AE%97%E6%B3%95-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E7%AE%97%E6%B3%95-%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E7%AE%97%E6%B3%95/">图算法 最小生成树算法 最短路径算法</a></span><div class="content"><a id="more"></a>

<h3>1.整体结构</h3>

<p><img alt="" class="has" height="590" src="https://img-blog.csdnimg.cn/20181201144134899.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="850" /></p>

<p> </p>

<h3>2.图的相关应用</h3>

<h3><img alt="" class="has" height="537" src="https://img-blog.csdnimg.cn/20181201144314661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="1200" /> </h3></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/blog/2018/11/15/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84!%E7%BA%BF%E6%80%A7%E8%A1%A8%E6%80%BB%E7%BB%93+%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">数据结构:线性表总结+思维导图</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-11-15</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/blog/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/blog/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%BA%BF%E6%80%A7%E8%A1%A8-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">数据结构 线性表 思维导图</a></span><div class="content"><a id="more"></a>

<h3><strong>1.总体架构</strong></h3>

<p><img alt="" class="has" height="663" src="https://img-blog.csdnimg.cn/20181115151245994.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="1083" /></p>

<p> </p>

<h3><strong>2.顺序存储</strong></h3>

<h3><img alt="" class="has" height="473" src="https://img-blog.csdnimg.cn/20181115151505199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="929" /><strong> </strong></h3>

<p><strong>3.链式存储</strong></p>

<p><img alt="" class="has" height="665" src="https://img-blog.csdnimg.cn/20181115151659386.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1b2ppNTU1,size_16,color_FFFFFF,t_70" width="1095" /></p>

<p> </p></div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/blog/page/4/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/blog/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/9/">9</a><a class="extend next" rel="next" href="/blog/page/6/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://blog-1251750343.cos.ap-beijing.myqcloud.com/blog/blog-bg.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2020 By Ragty</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="footer_custom_text"><a href="http://beian.miit.gov.cn " target="_blank" rel="noopener" charset="utf-8"> ICP备案号:京ICP备<13502>号 </a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/blog/js/utils.js?version=1.7.0"></script><script src="/blog/js/fancybox.js?version=1.7.0"></script><script src="/blog/js/sidebar.js?version=1.7.0"></script><script src="/blog/js/copy.js?version=1.7.0"></script><script src="/blog/js/fireworks.js?version=1.7.0"></script><script src="/blog/js/transition.js?version=1.7.0"></script><script src="/blog/js/scroll.js?version=1.7.0"></script><script src="/blog/js/head.js?version=1.7.0"></script><script src="/blog/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>